{"dependencies":[{"name":"draft-js","loc":{"line":1,"column":90}},{"name":"lodash/toArray","loc":{"line":2,"column":20}},{"name":"immutable","loc":{"line":3,"column":49}}],"generated":{"js":"\"use strict\";function t(t){return t&&t.__esModule?t:{default:t}}function e(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=arguments,a=n.length-1;return function(){for(var t=a,e=n[a].apply(this,arguments);t--;)e=n[t].call(this,e);return e}}function r(t,e){var r=(new DOMParser).parseFromString(t,\"text/html\");(0,i.default)(r.querySelectorAll(\"img\")).forEach(s);var a=(0,n.convertFromHTML)(r.body.innerHTML).contentBlocks;return a=a.reduce(function(t,r){if(\"blockquote\"!==r.getType())return t.concat(r);var a=JSON.parse(r.getText());e.createEntity(\"IMAGE-ENTITY\",\"IMMUTABLE\",a);var i=e.getLastCreatedEntityKey(),c=n.CharacterMetadata.create({entity:i}),u=[new n.ContentBlock({key:(0,n.genKey)(),type:\"image-block\",text:\" \",characterList:(0,l.List)((0,l.Repeat)(c,c.count()))}),new n.ContentBlock({key:(0,n.genKey)(),type:\"unstyled\",text:\"\",characterList:(0,l.List)()})];return t.concat(u)},[]),r=null,n.BlockMapBuilder.createFromArray(a)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=r;var n=require(\"draft-js\"),a=require(\"lodash/toArray\"),i=t(a),l=require(\"immutable\"),c=function(t){return{contentType:\"image\",src:t.getAttribute(\"src\"),width:t.getAttribute(\"width\"),height:t.getAttribute(\"height\"),align:t.style.cssFloat}},u=function(t){if(null==t)return null;var e=document.createElement(\"blockquote\");return e.innerText=JSON.stringify(t),e},o=function(t,e){if(e instanceof HTMLElement){return t.parentNode.replaceChild(e,t)}},y=e(u,c),s=function(t){return o(t,y(t))},d=function(t,e){var r=t.key,a=t.type,i=t.text,c=t.data,u=t.inlineStyles,o=t.entityData,y={type:null!=a?a:\"unstyled\",text:null!=i?i:\"\",key:null!=r?r:(0,n.genKey)(),data:null,characterList:(0,l.List)([])};if(c&&(y.data=(0,l.fromJS)(c)),u||o){var s=void 0;if(o){var d=o.type,f=o.mutability,g=o.data;e.createEntity(d,f,g),s=e.getLastCreatedEntityKey()}else s=null;var h=(0,l.OrderedSet)(u||[]),p=n.CharacterMetadata.create({style:h,entityKey:s});y.characterList=(0,l.List)((0,l.Repeat)(p,i.length))}return new n.ContentBlock(y)};"},"hash":"b71104e408ebdd013c98ef199d58ac8b"}