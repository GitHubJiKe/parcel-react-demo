{"dependencies":[{"name":"babel-runtime/helpers/toConsumableArray","loc":{"line":1,"column":31}},{"name":"babel-runtime/helpers/defineProperty","loc":{"line":2,"column":28}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":3,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":4,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":5,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":6,"column":22}},{"name":"react","loc":{"line":7,"column":23}},{"name":"prop-types","loc":{"line":8,"column":22}},{"name":"classnames","loc":{"line":9,"column":23}},{"name":"./list","loc":{"line":10,"column":17}},{"name":"./operation","loc":{"line":11,"column":22}},{"name":"./search","loc":{"line":12,"column":19}},{"name":"../locale-provider/LocaleReceiver","loc":{"line":13,"column":27}},{"name":"../locale-provider/default","loc":{"line":14,"column":26}}],"generated":{"js":"\"use strict\";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(exports,\"__esModule\",{value:!0});var l=require(\"babel-runtime/helpers/toConsumableArray\"),a=t(l),n=require(\"babel-runtime/helpers/defineProperty\"),o=t(n),i=require(\"babel-runtime/helpers/classCallCheck\"),c=t(i),u=require(\"babel-runtime/helpers/createClass\"),s=t(u),d=require(\"babel-runtime/helpers/possibleConstructorReturn\"),f=t(d),h=require(\"babel-runtime/helpers/inherits\"),S=t(h),p=require(\"react\"),y=e(p),g=require(\"prop-types\"),v=t(g),m=require(\"classnames\"),K=t(m),C=require(\"./list\"),b=t(C),F=require(\"./operation\"),T=t(F),O=require(\"./search\"),x=t(O),k=require(\"../locale-provider/LocaleReceiver\"),L=t(k),R=require(\"../locale-provider/default\"),A=t(R),q=function(e){function t(e){(0,c.default)(this,t);var r=(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.moveTo=function(e){var t=r.props,l=t.targetKeys,a=void 0===l?[]:l,n=t.dataSource,i=void 0===n?[]:n,c=t.onChange,u=r.state,s=u.sourceSelectedKeys,d=u.targetSelectedKeys,f=(\"right\"===e?s:d).filter(function(e){return!i.some(function(t){return!(e!==t.key||!t.disabled)})}),h=\"right\"===e?f.concat(a):a.filter(function(e){return-1===f.indexOf(e)}),S=\"right\"===e?\"left\":\"right\";r.setState((0,o.default)({},r.getSelectedKeysName(S),[])),r.handleSelectChange(S,[]),c&&c(h,e,f)},r.moveToLeft=function(){return r.moveTo(\"left\")},r.moveToRight=function(){return r.moveTo(\"right\")},r.handleSelectAll=function(e,t,l){var n=r.state[r.getSelectedKeysName(e)]||[],i=t.map(function(e){return e.key}),c=n.filter(function(e){return-1===i.indexOf(e)}),u=[].concat((0,a.default)(n));i.forEach(function(e){-1===u.indexOf(e)&&u.push(e)});var s=l?c:u;r.handleSelectChange(e,s),r.props.selectedKeys||r.setState((0,o.default)({},r.getSelectedKeysName(e),s))},r.handleLeftSelectAll=function(e,t){return r.handleSelectAll(\"left\",e,t)},r.handleRightSelectAll=function(e,t){return r.handleSelectAll(\"right\",e,t)},r.handleFilter=function(e,t){r.setState((0,o.default)({},e+\"Filter\",t.target.value)),r.props.onSearchChange&&r.props.onSearchChange(e,t)},r.handleLeftFilter=function(e){return r.handleFilter(\"left\",e)},r.handleRightFilter=function(e){return r.handleFilter(\"right\",e)},r.handleClear=function(e){r.setState((0,o.default)({},e+\"Filter\",\"\"))},r.handleLeftClear=function(){return r.handleClear(\"left\")},r.handleRightClear=function(){return r.handleClear(\"right\")},r.handleSelect=function(e,t,l){var n=r.state,i=n.sourceSelectedKeys,c=n.targetSelectedKeys,u=[].concat(\"left\"===e?(0,a.default)(i):(0,a.default)(c)),s=u.indexOf(t.key);s>-1&&u.splice(s,1),l&&u.push(t.key),r.handleSelectChange(e,u),r.props.selectedKeys||r.setState((0,o.default)({},r.getSelectedKeysName(e),u))},r.handleLeftSelect=function(e,t){return r.handleSelect(\"left\",e,t)},r.handleRightSelect=function(e,t){return r.handleSelect(\"right\",e,t)},r.handleScroll=function(e,t){var l=r.props.onScroll;l&&l(e,t)},r.handleLeftScroll=function(e){return r.handleScroll(\"left\",e)},r.handleRightScroll=function(e){return r.handleScroll(\"right\",e)},r.renderTransfer=function(e){var t=r.props,l=t.prefixCls,a=void 0===l?\"ant-transfer\":l,n=t.className,o=t.operations,i=void 0===o?[]:o,c=t.showSearch,u=t.notFoundContent,s=t.searchPlaceholder,d=t.body,f=t.footer,h=t.listStyle,S=t.filterOption,p=t.render,g=t.lazy,v=r.state,m=v.leftFilter,C=v.rightFilter,F=v.sourceSelectedKeys,O=v.targetSelectedKeys,x=r.splitDataSource(r.props),k=x.leftDataSource,L=x.rightDataSource,R=O.length>0,A=F.length>0,q=(0,K.default)(n,a),P=r.getTitles(e);return y.createElement(\"div\",{className:q},y.createElement(b.default,{prefixCls:a+\"-list\",titleText:P[0],dataSource:k,filter:m,filterOption:S,style:h,checkedKeys:F,handleFilter:r.handleLeftFilter,handleClear:r.handleLeftClear,handleSelect:r.handleLeftSelect,handleSelectAll:r.handleLeftSelectAll,render:p,showSearch:c,searchPlaceholder:s||e.searchPlaceholder,notFoundContent:u||e.notFoundContent,itemUnit:e.itemUnit,itemsUnit:e.itemsUnit,body:d,footer:f,lazy:g,onScroll:r.handleLeftScroll}),y.createElement(T.default,{className:a+\"-operation\",rightActive:A,rightArrowText:i[0],moveToRight:r.moveToRight,leftActive:R,leftArrowText:i[1],moveToLeft:r.moveToLeft}),y.createElement(b.default,{prefixCls:a+\"-list\",titleText:P[1],dataSource:L,filter:C,filterOption:S,style:h,checkedKeys:O,handleFilter:r.handleRightFilter,handleClear:r.handleRightClear,handleSelect:r.handleRightSelect,handleSelectAll:r.handleRightSelectAll,render:p,showSearch:c,searchPlaceholder:s||e.searchPlaceholder,notFoundContent:u||e.notFoundContent,itemUnit:e.itemUnit,itemsUnit:e.itemsUnit,body:d,footer:f,lazy:g,onScroll:r.handleRightScroll}))};var l=e.selectedKeys,n=void 0===l?[]:l,i=e.targetKeys,u=void 0===i?[]:i;return r.state={leftFilter:\"\",rightFilter:\"\",sourceSelectedKeys:n.filter(function(e){return-1===u.indexOf(e)}),targetSelectedKeys:n.filter(function(e){return u.indexOf(e)>-1})},r}return(0,S.default)(t,e),(0,s.default)(t,[{key:\"componentWillReceiveProps\",value:function(e){var t=this.state,r=t.sourceSelectedKeys,l=t.targetSelectedKeys;if((e.targetKeys!==this.props.targetKeys||e.dataSource!==this.props.dataSource)&&(this.splitedDataSource=null,!e.selectedKeys)){var a=e.dataSource,n=e.targetKeys,o=void 0===n?[]:n,i=[],c=[];a.forEach(function(e){var t=e.key;r.includes(t)&&!o.includes(t)&&i.push(t),l.includes(t)&&o.includes(t)&&c.push(t)}),this.setState({sourceSelectedKeys:i,targetSelectedKeys:c})}if(e.selectedKeys){var u=e.targetKeys||[];this.setState({sourceSelectedKeys:e.selectedKeys.filter(function(e){return!u.includes(e)}),targetSelectedKeys:e.selectedKeys.filter(function(e){return u.includes(e)})})}}},{key:\"splitDataSource\",value:function(e){if(this.splitedDataSource)return this.splitedDataSource;var t=e.dataSource,r=e.rowKey,l=e.targetKeys,a=void 0===l?[]:l,n=[],o=new Array(a.length);return t.forEach(function(e){r&&(e.key=r(e));var t=a.indexOf(e.key);-1!==t?o[t]=e:n.push(e)}),this.splitedDataSource={leftDataSource:n,rightDataSource:o},this.splitedDataSource}},{key:\"handleSelectChange\",value:function(e,t){var r=this.state,l=r.sourceSelectedKeys,a=r.targetSelectedKeys,n=this.props.onSelectChange;n&&(\"left\"===e?n(t,a):n(l,t))}},{key:\"getTitles\",value:function(e){var t=this.props;return t.titles?t.titles:e.titles}},{key:\"getSelectedKeysName\",value:function(e){return\"left\"===e?\"sourceSelectedKeys\":\"targetSelectedKeys\"}},{key:\"render\",value:function(){return y.createElement(L.default,{componentName:\"Transfer\",defaultLocale:A.default.Transfer},this.renderTransfer)}}]),t}(y.Component);exports.default=q,q.List=b.default,q.Operation=T.default,q.Search=x.default,q.defaultProps={dataSource:[],render:r,showSearch:!1},q.propTypes={prefixCls:v.default.string,dataSource:v.default.array,render:v.default.func,targetKeys:v.default.array,onChange:v.default.func,height:v.default.number,listStyle:v.default.object,className:v.default.string,titles:v.default.array,operations:v.default.array,showSearch:v.default.bool,filterOption:v.default.func,searchPlaceholder:v.default.string,notFoundContent:v.default.node,body:v.default.func,footer:v.default.func,rowKey:v.default.func,lazy:v.default.oneOfType([v.default.object,v.default.bool])};"},"hash":"de6beeea870603372b4343f9c5cc412f"}