{"dependencies":[{"name":"babel-runtime/helpers/extends","loc":{"line":1,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":2,"column":28}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":3,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":4,"column":22}},{"name":"react","loc":{"line":5,"column":18}},{"name":"prop-types","loc":{"line":6,"column":22}},{"name":"mini-store","loc":{"line":7,"column":24}},{"name":"./TableRow","loc":{"line":8,"column":21}}],"generated":{"js":"\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,\"__esModule\",{value:!0});var n=require(\"babel-runtime/helpers/extends\"),a=e(n),t=require(\"babel-runtime/helpers/classCallCheck\"),r=e(t),d=require(\"babel-runtime/helpers/possibleConstructorReturn\"),o=e(d),l=require(\"babel-runtime/helpers/inherits\"),s=e(l),u=require(\"react\"),i=e(u),p=require(\"prop-types\"),c=e(p),f=require(\"mini-store\"),h=require(\"./TableRow\"),x=e(h),m=function(e){function n(a){(0,r.default)(this,n);var t=(0,o.default)(this,e.call(this,a));R.call(t);var d=a.data,l=a.childrenColumnName,s=a.defaultExpandAllRows,u=a.expandedRowKeys,i=a.defaultExpandedRowKeys,p=a.getRowKey,c=[],f=[].concat(d);if(s)for(var h=0;h<f.length;h++){var x=f[h];c.push(p(x,h)),f=f.concat(x[l]||[])}else c=u||i;return t.columnManager=a.columnManager,t.store=a.store,t.store.setState({expandedRowsHeight:{},expandedRowKeys:c}),t}return(0,s.default)(n,e),n.prototype.componentWillReceiveProps=function(e){\"expandedRowKeys\"in e&&this.store.setState({expandedRowKeys:e.expandedRowKeys})},n.prototype.renderExpandedRow=function(e,n,a,t,r,d,o){var l=this.props,s=l.prefixCls,u=l.expandIconAsCell,p=l.indentSize,c=void 0;c=\"left\"===o?this.columnManager.leftLeafColumns().length:\"right\"===o?this.columnManager.rightLeafColumns().length:this.columnManager.leafColumns().length;var f=[{key:\"extra-row\",render:function(){return{props:{colSpan:c},children:\"right\"!==o?a(e,n,d):\"&nbsp;\"}}}];u&&\"right\"!==o&&f.unshift({key:\"expand-icon-placeholder\",render:function(){return null}});var h=r[r.length-1]+\"-extra-row\";return i.default.createElement(x.default,{key:h,columns:f,className:t,rowKey:h,ancestorKeys:r,prefixCls:s+\"-expanded-row\",indentSize:p,indent:d,fixed:o,components:{body:{row:\"tr\",cell:\"td\"}}})},n.prototype.render=function(){var e=this.props,n=e.data,a=e.childrenColumnName,t=e.children,r=n.some(function(e){return e[a]});return t({props:this.props,needIndentSpaced:r,renderRows:this.renderRows,handleExpandChange:this.handleExpandChange,renderExpandIndentCell:this.renderExpandIndentCell})},n}(i.default.Component);m.propTypes={expandIconAsCell:c.default.bool,expandedRowKeys:c.default.array,expandedRowClassName:c.default.func,defaultExpandAllRows:c.default.bool,defaultExpandedRowKeys:c.default.array,expandIconColumnIndex:c.default.number,expandedRowRender:c.default.func,childrenColumnName:c.default.string,indentSize:c.default.number,onExpand:c.default.func,onExpandedRowsChange:c.default.func,columnManager:c.default.object.isRequired,store:c.default.object.isRequired,prefixCls:c.default.string.isRequired,data:c.default.array,children:c.default.func.isRequired},m.defaultProps={expandIconAsCell:!1,expandedRowClassName:function(){return\"\"},expandIconColumnIndex:0,defaultExpandAllRows:!1,defaultExpandedRowKeys:[],childrenColumnName:\"children\",indentSize:15,onExpand:function(){},onExpandedRowsChange:function(){}};var R=function(){var e=this;this.handleExpandChange=function(n,a,t,r){t&&(t.preventDefault(),t.stopPropagation());var d=e.props,o=d.onExpandedRowsChange,l=d.onExpand,s=e.store.getState().expandedRowKeys;if(n)s.push(r);else{var u=s.indexOf(r);-1!==u&&s.splice(u,1)}e.props.expandedRowKeys||e.store.setState({expandedRowKeys:s}),o(s),l(n,a)},this.renderExpandIndentCell=function(n,t){var r=e.props,d=r.prefixCls;if(r.expandIconAsCell&&\"right\"!==t){var o={key:\"rc-table-expand-icon-cell\",className:d+\"-expand-icon-th\",title:\"\",rowSpan:n.length};n[0].unshift((0,a.default)({},o,{column:o}))}},this.renderRows=function(n,a,t,r,d,o,l,s){var u=e.props,i=u.expandedRowClassName,p=u.expandedRowRender,c=t[u.childrenColumnName],f=[].concat(s,[l]),h=d+1;p&&a.push(e.renderExpandedRow(t,r,p,i(t,r,d),f,h,o)),c&&a.push.apply(a,n(c,h,f))}};exports.default=(0,f.connect)()(m);"},"hash":"38b450be9f87269486cc83e0a9566877"}