{"dependencies":[{"name":"babel-runtime/helpers/defineProperty","loc":{"line":1,"column":28}},{"name":"babel-runtime/helpers/extends","loc":{"line":2,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":3,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":4,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":5,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":6,"column":22}},{"name":"react","loc":{"line":7,"column":23}},{"name":"react-dom","loc":{"line":8,"column":26}},{"name":"prop-types","loc":{"line":9,"column":22}},{"name":"classnames","loc":{"line":10,"column":23}},{"name":"rc-animate","loc":{"line":11,"column":20}},{"name":"rc-util/es/PureRenderMixin","loc":{"line":12,"column":28}},{"name":"../grid/row","loc":{"line":13,"column":16}},{"name":"../grid/col","loc":{"line":14,"column":16}},{"name":"../_util/warning","loc":{"line":15,"column":20}},{"name":"./constants","loc":{"line":16,"column":49}}],"generated":{"js":"\"use strict\";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,\"__esModule\",{value:!0});var r=require(\"babel-runtime/helpers/defineProperty\"),l=t(r),a=require(\"babel-runtime/helpers/extends\"),n=t(a),i=require(\"babel-runtime/helpers/classCallCheck\"),o=t(i),s=require(\"babel-runtime/helpers/createClass\"),u=t(s),d=require(\"babel-runtime/helpers/possibleConstructorReturn\"),p=t(d),c=require(\"babel-runtime/helpers/inherits\"),f=t(c),h=require(\"react\"),v=e(h),m=require(\"react-dom\"),g=e(m),y=require(\"prop-types\"),C=t(y),b=require(\"classnames\"),k=t(b),q=require(\"rc-animate\"),x=t(q),O=require(\"rc-util/es/PureRenderMixin\"),_=t(O),P=require(\"../grid/row\"),E=t(P),F=require(\"../grid/col\"),N=t(F),M=require(\"../_util/warning\"),w=t(M),I=require(\"./constants\"),A=function(e){function t(){(0,o.default)(this,t);var e=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onLabelClick=function(){var t=e.props.id||e.getId();if(t){if(1!==document.querySelectorAll('[id=\"'+t+'\"]').length){var r=g.findDOMNode(e).querySelector('[id=\"'+t+'\"]');r&&r.focus&&r.focus()}}},e}return(0,f.default)(t,e),(0,u.default)(t,[{key:\"componentDidMount\",value:function(){(0,w.default)(this.getControls(this.props.children,!0).length<=1,\"`Form.Item` cannot generate `validateStatus` and `help` automatically, while there are more than one `getFieldDecorator` in it.\")}},{key:\"shouldComponentUpdate\",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _.default.shouldComponentUpdate.apply(this,t)}},{key:\"getHelpMsg\",value:function(){var e=this.props,t=this.getOnlyControl();if(void 0===e.help&&t){var r=this.getField().errors;return r?r.map(function(e){return e.message}).join(\", \"):\"\"}return e.help}},{key:\"getControls\",value:function(e,r){for(var l=[],a=v.Children.toArray(e),n=0;n<a.length&&(r||!(l.length>0));n++){var i=a[n];(!i.type||i.type!==t&&\"FormItem\"!==i.type.displayName)&&i.props&&(I.FIELD_META_PROP in i.props?l.push(i):i.props.children&&(l=l.concat(this.getControls(i.props.children,r))))}return l}},{key:\"getOnlyControl\",value:function(){var e=this.getControls(this.props.children,!1)[0];return void 0!==e?e:null}},{key:\"getChildProp\",value:function(e){var t=this.getOnlyControl();return t&&t.props&&t.props[e]}},{key:\"getId\",value:function(){return this.getChildProp(\"id\")}},{key:\"getMeta\",value:function(){return this.getChildProp(I.FIELD_META_PROP)}},{key:\"getField\",value:function(){return this.getChildProp(I.FIELD_DATA_PROP)}},{key:\"renderHelp\",value:function(){var e=this.props.prefixCls,t=this.getHelpMsg(),r=t?v.createElement(\"div\",{className:e+\"-explain\",key:\"help\"},t):null;return v.createElement(x.default,{transitionName:\"show-help\",component:\"\",transitionAppear:!0,key:\"help\"},r)}},{key:\"renderExtra\",value:function(){var e=this.props,t=e.prefixCls,r=e.extra;return r?v.createElement(\"div\",{className:t+\"-extra\"},r):null}},{key:\"getValidateStatus\",value:function(){if(!this.getOnlyControl())return\"\";var e=this.getField();if(e.validating)return\"validating\";if(e.errors)return\"error\";var t=\"value\"in e?e.value:this.getMeta().initialValue;return void 0!==t&&null!==t&&\"\"!==t?\"success\":\"\"}},{key:\"renderValidateWrapper\",value:function(e,t,r){var l=this.props,a=this.getOnlyControl,n=void 0===l.validateStatus&&a?this.getValidateStatus():l.validateStatus,i=\"\";return n&&(i=(0,k.default)({\"has-feedback\":l.hasFeedback||\"validating\"===n,\"has-success\":\"success\"===n,\"has-warning\":\"warning\"===n,\"has-error\":\"error\"===n,\"is-validating\":\"validating\"===n})),v.createElement(\"div\",{className:this.props.prefixCls+\"-item-control \"+i},e,t,r)}},{key:\"renderWrapper\",value:function(e){var t=this.props,r=t.prefixCls,l=t.wrapperCol,a=(0,k.default)(r+\"-item-control-wrapper\",l&&l.className);return v.createElement(N.default,(0,n.default)({},l,{className:a,key:\"wrapper\"}),e)}},{key:\"isRequired\",value:function(){var e=this.props.required;if(void 0!==e)return e;if(this.getOnlyControl()){return((this.getMeta()||{}).validate||[]).filter(function(e){return!!e.rules}).some(function(e){return e.rules.some(function(e){return e.required})})}return!1}},{key:\"renderLabel\",value:function(){var e=this.props,t=e.prefixCls,r=e.label,a=e.labelCol,i=e.colon,o=e.id,s=this.context,u=this.isRequired(),d=(0,k.default)(t+\"-item-label\",a&&a.className),p=(0,k.default)((0,l.default)({},t+\"-item-required\",u)),c=r;return i&&!s.vertical&&\"string\"==typeof r&&\"\"!==r.trim()&&(c=r.replace(/[ï¼š|:]\\s*$/,\"\")),r?v.createElement(N.default,(0,n.default)({},a,{className:d,key:\"label\"}),v.createElement(\"label\",{htmlFor:o||this.getId(),className:p,title:\"string\"==typeof r?r:\"\",onClick:this.onLabelClick},c)):null}},{key:\"renderChildren\",value:function(){var e=this.props.children;return[this.renderLabel(),this.renderWrapper(this.renderValidateWrapper(e,this.renderHelp(),this.renderExtra()))]}},{key:\"renderFormItem\",value:function(e){var t,r=this.props,a=r.prefixCls,n=r.style,i=(t={},(0,l.default)(t,a+\"-item\",!0),(0,l.default)(t,a+\"-item-with-help\",!!this.getHelpMsg()),(0,l.default)(t,a+\"-item-no-colon\",!r.colon),(0,l.default)(t,\"\"+r.className,!!r.className),t);return v.createElement(E.default,{className:(0,k.default)(i),style:n},e)}},{key:\"render\",value:function(){var e=this.renderChildren();return this.renderFormItem(e)}}]),t}(v.Component);exports.default=A,A.defaultProps={hasFeedback:!1,prefixCls:\"ant-form\",colon:!0},A.propTypes={prefixCls:C.default.string,label:C.default.oneOfType([C.default.string,C.default.node]),labelCol:C.default.object,help:C.default.oneOfType([C.default.node,C.default.bool]),validateStatus:C.default.oneOf([\"\",\"success\",\"warning\",\"error\",\"validating\"]),hasFeedback:C.default.bool,wrapperCol:C.default.object,className:C.default.string,id:C.default.string,children:C.default.node,colon:C.default.bool},A.contextTypes={vertical:C.default.bool};"},"hash":"66fd757b0976f36ee99e4355419a67b9"}