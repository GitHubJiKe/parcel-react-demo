{"dependencies":[{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":1,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":2,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":3,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":4,"column":22}},{"name":"react","loc":{"line":5,"column":23}},{"name":"react-dom","loc":{"line":6,"column":26}},{"name":"prop-types","loc":{"line":7,"column":22}},{"name":"classnames","loc":{"line":8,"column":23}},{"name":"rc-util/es/Dom/addEventListener","loc":{"line":9,"column":29}},{"name":"../affix","loc":{"line":10,"column":18}},{"name":"../_util/getScroll","loc":{"line":11,"column":22}},{"name":"../_util/getRequestAnimationFrame","loc":{"line":12,"column":37}}],"generated":{"js":"\"use strict\";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}function n(){return window}function i(e){if(!e)return 0;if(!e.getClientRects().length)return 0;var t=e.getBoundingClientRect();if(t.width||t.height){var n=e.ownerDocument.documentElement;return t.top-n.clientTop}return t.top}function r(e,t,n,i){var r=n-t;return(e/=i/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},l=(0,N.default)(n(),!0),a=document.getElementById(e.substring(1));if(a){var u=i(a),s=l+u-t,c=Date.now();L(function e(){var t=Date.now()-c;window.scrollTo(window.pageXOffset,r(t,l,s,450)),t<450?L(e):o()}),history.pushState(null,\"\",e)}}Object.defineProperty(exports,\"__esModule\",{value:!0});var l=require(\"babel-runtime/helpers/classCallCheck\"),a=t(l),u=require(\"babel-runtime/helpers/createClass\"),s=t(u),c=require(\"babel-runtime/helpers/possibleConstructorReturn\"),f=t(c),d=require(\"babel-runtime/helpers/inherits\"),p=t(d),h=require(\"react\"),v=e(h),m=require(\"react-dom\"),k=e(m),g=require(\"prop-types\"),y=t(g),b=require(\"classnames\"),C=t(b),x=require(\"rc-util/es/Dom/addEventListener\"),w=t(x),E=require(\"../affix\"),q=t(E),_=require(\"../_util/getScroll\"),N=t(_),T=require(\"../_util/getRequestAnimationFrame\"),I=t(T),L=(0,I.default)(),S=function(e){function t(e){(0,a.default)(this,t);var i=(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.handleScroll=function(){if(!i.animating){var e=i.props,t=e.offsetTop,n=e.bounds;i.setState({activeLink:i.getCurrentAnchor(t,n)})}},i.handleScrollTo=function(e){var t=i.props,r=t.offsetTop,l=t.target,a=void 0===l?n:l;i.animating=!0,i.setState({activeLink:e}),o(e,r,a,function(){i.animating=!1})},i.updateInk=function(){if(\"undefined\"!=typeof document){var e=i.props.prefixCls,t=k.findDOMNode(i).getElementsByClassName(e+\"-link-title-active\")[0];t&&(i.inkNode.style.top=t.offsetTop+t.clientHeight/2-4.5+\"px\")}},i.saveInkNode=function(e){i.inkNode=e},i.state={activeLink:null},i.links=[],i}return(0,p.default)(t,e),(0,s.default)(t,[{key:\"getChildContext\",value:function(){var e=this;return{antAnchor:{registerLink:function(t){e.links.includes(t)||e.links.push(t)},unregisterLink:function(t){var n=e.links.indexOf(t);-1!==n&&e.links.splice(n,1)},activeLink:this.state.activeLink,scrollTo:this.handleScrollTo}}}},{key:\"componentDidMount\",value:function(){var e=this.props.target||n;this.scrollEvent=(0,w.default)(e(),\"scroll\",this.handleScroll),this.handleScroll()}},{key:\"componentWillUnmount\",value:function(){this.scrollEvent&&this.scrollEvent.remove()}},{key:\"componentDidUpdate\",value:function(){this.updateInk()}},{key:\"getCurrentAnchor\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(\"undefined\"==typeof document)return\"\";var n=[];if(this.links.forEach(function(r){var o=document.getElementById(r.substring(1));if(o&&i(o)<e+t){var l=i(o);n.push({link:r,top:l})}}),n.length){return n.reduce(function(e,t){return t.top>e.top?t:e}).link}return\"\"}},{key:\"render\",value:function(){var e=this.props,t=e.prefixCls,n=e.className,i=void 0===n?\"\":n,r=e.style,o=e.offsetTop,l=e.affix,a=e.showInkInFixed,u=e.children,s=this.state.activeLink,c=(0,C.default)(t+\"-ink-ball\",{visible:s}),f=(0,C.default)(i,t+\"-wrapper\"),d=(0,C.default)(t,{fixed:!l&&!a}),p=v.createElement(\"div\",{className:f,style:r},v.createElement(\"div\",{className:d},v.createElement(\"div\",{className:t+\"-ink\"},v.createElement(\"span\",{className:c,ref:this.saveInkNode})),u));return l?v.createElement(q.default,{offsetTop:o},p):p}}]),t}(v.Component);exports.default=S,S.defaultProps={prefixCls:\"ant-anchor\",affix:!0,showInkInFixed:!1},S.childContextTypes={antAnchor:y.default.object};"},"hash":"4cd2aa1d5755d05b5c06f867e5626ce2"}