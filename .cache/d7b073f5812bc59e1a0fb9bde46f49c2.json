{"dependencies":[{"name":"babel-runtime/helpers/extends","loc":{"line":1,"column":21}},{"name":"babel-runtime/helpers/defineProperty","loc":{"line":2,"column":28}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":3,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":4,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":5,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":6,"column":22}},{"name":"react","loc":{"line":15,"column":23}},{"name":"rc-cascader","loc":{"line":16,"column":23}},{"name":"array-tree-filter","loc":{"line":17,"column":28}},{"name":"classnames","loc":{"line":18,"column":23}},{"name":"omit.js","loc":{"line":19,"column":17}},{"name":"rc-util/es/KeyCode","loc":{"line":20,"column":20}},{"name":"../input","loc":{"line":21,"column":18}},{"name":"../icon","loc":{"line":22,"column":17}}],"generated":{"js":"\"use strict\";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t,n){return e.split(t).map(function(e,a){return 0===a?e:[g.createElement(\"span\",{className:n+\"-menu-item-keyword\",key:\"seperator\"},t),e]})}function a(e,t){return t.some(function(t){return t.label.indexOf(e)>-1})}function i(e,t,a){return t.map(function(t,i){var l=t.label,r=l.indexOf(e)>-1?n(l,e,a):l;return 0===i?r:[\" / \",r]})}function l(e,t,n){function a(e){return e.label.indexOf(n)>-1}return e.findIndex(a)-t.findIndex(a)}Object.defineProperty(exports,\"__esModule\",{value:!0});var r=require(\"babel-runtime/helpers/extends\"),u=t(r),o=require(\"babel-runtime/helpers/defineProperty\"),s=t(o),p=require(\"babel-runtime/helpers/classCallCheck\"),c=t(p),d=require(\"babel-runtime/helpers/createClass\"),f=t(d),h=require(\"babel-runtime/helpers/possibleConstructorReturn\"),v=t(h),b=require(\"babel-runtime/helpers/inherits\"),m=t(b),C=require(\"react\"),g=e(C),y=require(\"rc-cascader\"),O=t(y),V=require(\"array-tree-filter\"),P=t(V),S=require(\"classnames\"),_=t(S),k=require(\"omit.js\"),w=t(k),N=require(\"rc-util/es/KeyCode\"),x=t(N),I=require(\"../input\"),E=t(I),F=require(\"../icon\"),q=t(F),T=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&(n[a[i]]=e[a[i]])}return n},D=function(e){return e.join(\" / \")},A=function(e){function t(e){(0,c.default)(this,t);var n=(0,v.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){if(n.setState({inputValue:\"\"}),t[0].__IS_FILTERED_OPTION){var a=e[0],i=t[0].path;n.setValue(a,i)}else n.setValue(e,t)},n.handlePopupVisibleChange=function(e){\"popupVisible\"in n.props||n.setState({popupVisible:e,inputFocused:e,inputValue:e?n.state.inputValue:\"\"});var t=n.props.onPopupVisibleChange;t&&t(e)},n.handleInputBlur=function(){n.setState({inputFocused:!1})},n.handleInputClick=function(e){var t=n.state,a=t.inputFocused,i=t.popupVisible;(a||i)&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation())},n.handleKeyDown=function(e){e.keyCode===x.default.BACKSPACE&&e.stopPropagation()},n.handleInputChange=function(e){var t=e.target.value;n.setState({inputValue:t})},n.setValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];\"value\"in n.props||n.setState({value:e});var a=n.props.onChange;a&&a(e,t)},n.clearSelection=function(e){e.preventDefault(),e.stopPropagation(),n.state.inputValue?n.setState({inputValue:\"\"}):(n.setValue([]),n.handlePopupVisibleChange(!1))},n.saveInput=function(e){n.input=e},n.state={value:e.value||e.defaultValue||[],inputValue:\"\",inputFocused:!1,popupVisible:e.popupVisible,flattenOptions:e.showSearch&&n.flattenTree(e.options,e.changeOnSelect)},n}return(0,m.default)(t,e),(0,f.default)(t,[{key:\"componentWillReceiveProps\",value:function(e){\"value\"in e&&this.setState({value:e.value||[]}),\"popupVisible\"in e&&this.setState({popupVisible:e.popupVisible}),e.showSearch&&this.props.options!==e.options&&this.setState({flattenOptions:this.flattenTree(e.options,e.changeOnSelect)})}},{key:\"getLabel\",value:function(){var e=this.props,t=e.options,n=e.displayRender,a=void 0===n?D:n,i=this.state.value,l=Array.isArray(i[0])?i[0]:i,r=(0,P.default)(t,function(e,t){return e.value===l[t]});return a(r.map(function(e){return e.label}),r)}},{key:\"flattenTree\",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=[];return e.forEach(function(e){var l=a.concat(e);!t&&e.children&&e.children.length||i.push(l),e.children&&(i=i.concat(n.flattenTree(e.children,t,l)))}),i}},{key:\"generateFilteredOptions\",value:function(e){var t=this,n=this.props,r=n.showSearch,u=n.notFoundContent,o=r.filter,s=void 0===o?a:o,p=r.render,c=void 0===p?i:p,d=r.sort,f=void 0===d?l:d,h=this.state,v=h.flattenOptions,b=h.inputValue,m=v.filter(function(e){return s(t.state.inputValue,e)}).sort(function(e,t){return f(e,t,b)});return m.length>0?m.map(function(t){return{__IS_FILTERED_OPTION:!0,path:t,label:c(b,t,e),value:t.map(function(e){return e.value}),disabled:t.some(function(e){return e.disabled})}}):[{label:u,value:\"ANT_CASCADER_NOT_FOUND\",disabled:!0}]}},{key:\"focus\",value:function(){this.input.focus()}},{key:\"blur\",value:function(){this.input.blur()}},{key:\"render\",value:function(){var e,t,n,a=this.props,i=this.state,l=a.prefixCls,r=a.inputPrefixCls,o=a.children,p=a.placeholder,c=a.size,d=a.disabled,f=a.className,h=a.style,v=a.allowClear,b=a.showSearch,m=void 0!==b&&b,C=T(a,[\"prefixCls\",\"inputPrefixCls\",\"children\",\"placeholder\",\"size\",\"disabled\",\"className\",\"style\",\"allowClear\",\"showSearch\"]),y=i.value,V=(0,_.default)((e={},(0,s.default)(e,r+\"-lg\",\"large\"===c),(0,s.default)(e,r+\"-sm\",\"small\"===c),e)),P=v&&!d&&y.length>0||i.inputValue?g.createElement(q.default,{type:\"cross-circle\",className:l+\"-picker-clear\",onClick:this.clearSelection}):null,S=(0,_.default)((t={},(0,s.default)(t,l+\"-picker-arrow\",!0),(0,s.default)(t,l+\"-picker-arrow-expand\",i.popupVisible),t)),k=(0,_.default)(f,l+\"-picker\",(n={},(0,s.default)(n,l+\"-picker-with-value\",i.inputValue),(0,s.default)(n,l+\"-picker-disabled\",d),(0,s.default)(n,l+\"-picker-\"+c,!!c),n)),N=(0,w.default)(C,[\"onChange\",\"options\",\"popupPlacement\",\"transitionName\",\"displayRender\",\"onPopupVisibleChange\",\"changeOnSelect\",\"expandTrigger\",\"popupVisible\",\"getPopupContainer\",\"loadData\",\"popupClassName\",\"filterOption\",\"renderFilteredOption\",\"sortFilteredOption\",\"notFoundContent\"]),x=a.options;i.inputValue&&(x=this.generateFilteredOptions(l)),i.popupVisible?this.cachedOptions=x:x=this.cachedOptions;var I={};1===(x||[]).length&&\"ANT_CASCADER_NOT_FOUND\"===x[0].value&&(I.height=\"auto\");!1!==m.matchInputWidth&&i.inputValue&&this.input&&(I.width=this.input.input.offsetWidth);var F=o||g.createElement(\"span\",{style:h,className:k},g.createElement(\"span\",{className:l+\"-picker-label\"},this.getLabel()),g.createElement(E.default,(0,u.default)({},N,{ref:this.saveInput,prefixCls:r,placeholder:y&&y.length>0?void 0:p,className:l+\"-input \"+V,value:i.inputValue,disabled:d,readOnly:!m,autoComplete:\"off\",onClick:m?this.handleInputClick:void 0,onBlur:m?this.handleInputBlur:void 0,onKeyDown:this.handleKeyDown,onChange:m?this.handleInputChange:void 0})),P,g.createElement(q.default,{type:\"down\",className:S}));return g.createElement(O.default,(0,u.default)({},a,{options:x,value:y,popupVisible:i.popupVisible,onPopupVisibleChange:this.handlePopupVisibleChange,onChange:this.handleChange,dropdownMenuColumnStyle:I}),F)}}]),t}(g.Component);exports.default=A,A.defaultProps={prefixCls:\"ant-cascader\",inputPrefixCls:\"ant-input\",placeholder:\"Please select\",transitionName:\"slide-up\",popupPlacement:\"bottomLeft\",options:[],disabled:!1,allowClear:!0,notFoundContent:\"Not Found\"};"},"hash":"914d1752b59e6b90c9226d55893c7ce5"}