{"dependencies":[{"name":"./DraftFeatureFlags","loc":{"line":15,"column":32}},{"name":"./DraftModifier","loc":{"line":16,"column":28}},{"name":"./DraftOffsetKey","loc":{"line":17,"column":29}},{"name":"./EditorState","loc":{"line":18,"column":26}},{"name":"fbjs/lib/UserAgent","loc":{"line":19,"column":24}},{"name":"./findAncestorOffsetKey","loc":{"line":21,"column":36}},{"name":"fbjs/lib/nullthrows","loc":{"line":22,"column":25}}],"generated":{"js":"var global = (1,eval)(\"this\");\nfunction e(e){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var l=t.getSelection(),g=l.anchorNode,u=l.isCollapsed,c=g.nodeType!==Node.TEXT_NODE,p=g.nodeType!==Node.TEXT_NODE&&g.nodeType!==Node.ELEMENT_NODE;if(n.draft_killswitch_allow_nontextnodes){if(c)return}else if(p)return;if(g.nodeType===Node.TEXT_NODE&&(null!==g.previousSibling||null!==g.nextSibling)){var E=g.parentNode;g.nodeValue=E.textContent;for(var h=E.firstChild;null!==h;h=h.nextSibling)h!==g&&E.removeChild(h)}var y=g.textContent,T=e._latestEditorState,v=a(f(g)),O=i.decode(v),S=O.blockKey,N=O.decoratorKey,_=O.leafKey,b=T.getBlockTree(S).getIn([N,\"leaves\",_]),m=b.start,x=b.end,A=T.getCurrentContent(),B=A.getBlockForKey(S),k=B.getText().slice(m,x);if(y.endsWith(d)&&(y=y.slice(0,-1)),y!==k){var q,C,D,F,K=T.getSelection(),M=K.merge({anchorOffset:m,focusOffset:x,isBackward:!1}),I=B.getEntityAt(m),w=I&&A.getEntity(I),X=\"MUTABLE\"===(w&&w.getMutability()),j=X?\"spellcheck-change\":\"apply-entity\",L=r.replaceText(A,M,y,B.getInlineStyleAt(m),X?B.getEntityAt(m):null);if(s)q=l.anchorOffset,C=l.focusOffset,F=(D=m+Math.min(q,C))+Math.abs(q-C),q=D,C=F;else{var U=y.length-k.length;D=K.getStartOffset(),F=K.getEndOffset(),q=u?F+U:D,C=F+U}var G=L.merge({selectionBefore:A.getSelectionAfter(),selectionAfter:K.merge({anchorOffset:q,focusOffset:C})});e.update(o.push(T,G,j))}}var t=(0,eval)(\"this\"),n=require(\"./DraftFeatureFlags\"),r=require(\"./DraftModifier\"),i=require(\"./DraftOffsetKey\"),o=require(\"./EditorState\"),l=require(\"fbjs/lib/UserAgent\"),f=require(\"./findAncestorOffsetKey\"),a=require(\"fbjs/lib/nullthrows\"),s=l.isEngine(\"Gecko\"),d=\"\\n\\n\";module.exports=e;"},"hash":"744c2d0a252a4b38deff4f9e9f3d4d48"}