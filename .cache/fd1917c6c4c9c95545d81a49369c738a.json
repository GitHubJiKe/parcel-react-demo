{"dependencies":[{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":1,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":2,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":3,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":4,"column":22}},{"name":"react","loc":{"line":5,"column":18}},{"name":"prop-types","loc":{"line":6,"column":22}},{"name":"./Pager","loc":{"line":7,"column":18}},{"name":"./Options","loc":{"line":8,"column":20}},{"name":"./KeyCode","loc":{"line":9,"column":20}},{"name":"./locale/zh_CN","loc":{"line":10,"column":19}}],"generated":{"js":"\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}function t(){}function a(e){return\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e}function n(e,t,a){return a}Object.defineProperty(exports,\"__esModule\",{value:!0});var l=require(\"babel-runtime/helpers/classCallCheck\"),r=e(l),s=require(\"babel-runtime/helpers/createClass\"),i=e(s),u=require(\"babel-runtime/helpers/possibleConstructorReturn\"),o=e(u),h=require(\"babel-runtime/helpers/inherits\"),c=e(h),p=require(\"react\"),f=e(p),d=require(\"prop-types\"),m=e(d),g=require(\"./Pager\"),v=e(g),C=require(\"./Options\"),P=e(C),y=require(\"./KeyCode\"),x=e(y),E=require(\"./locale/zh_CN\"),N=e(E),b=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));k.call(a);e.onChange;var n=e.defaultCurrent;\"current\"in e&&(n=e.current);var l=e.defaultPageSize;return\"pageSize\"in e&&(l=e.pageSize),a.state={current:n,currentInputValue:n,pageSize:l},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:\"componentWillReceiveProps\",value:function(e){if(\"current\"in e&&this.setState({current:e.current,currentInputValue:e.current}),\"pageSize\"in e){var t={},a=this.state.current,n=this.calculatePage(e.pageSize);a=a>n?n:a,\"current\"in e||(t.current=a,t.currentInputValue=a),t.pageSize=e.pageSize,this.setState(t)}}},{key:\"getJumpPrevPage\",value:function(){return Math.max(1,this.state.current-(this.props.showLessItems?3:5))}},{key:\"getJumpNextPage\",value:function(){return Math.min(this.calculatePage(),this.state.current+(this.props.showLessItems?3:5))}},{key:\"getJumpPrevPage\",value:function(){return Math.max(1,this.state.current-(this.props.showLessItems?3:5))}},{key:\"getJumpNextPage\",value:function(){return Math.min(this.calculatePage(),this.state.current+(this.props.showLessItems?3:5))}},{key:\"render\",value:function(){if(!0===this.props.hideOnSinglePage&&this.props.total<=this.state.pageSize)return null;var e=this.props,t=e.locale,a=e.prefixCls,n=this.calculatePage(),l=[],r=null,s=null,i=null,u=null,o=null,h=e.showQuickJumper&&e.showQuickJumper.goButton,c=e.showLessItems?1:2,p=this.state,d=p.current,m=p.pageSize,g=d-1>0?d-1:0,C=d+1<n?d+1:n;if(e.simple)return h&&(o=\"boolean\"==typeof h?f.default.createElement(\"li\",{title:e.showTitle?\"\"+t.jump_to+this.state.current+\"/\"+n:null,className:a+\"-simple-pager\"},f.default.createElement(\"button\",{type:\"button\",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},t.jump_to_confirm)):h),f.default.createElement(\"ul\",{className:a+\" \"+a+\"-simple \"+e.className,style:e.style},f.default.createElement(\"li\",{title:e.showTitle?t.prev_page:null,onClick:this.prev,tabIndex:\"0\",onKeyPress:this.runIfEnterPrev,className:(this.hasPrev()?\"\":a+\"-disabled\")+\" \"+a+\"-prev\",\"aria-disabled\":!this.hasPrev()},e.itemRender(g,\"prev\",f.default.createElement(\"a\",{className:a+\"-item-link\"}))),f.default.createElement(\"li\",{title:e.showTitle?this.state.current+\"/\"+n:null,className:a+\"-simple-pager\"},f.default.createElement(\"input\",{type:\"text\",value:this.state.currentInputValue,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,size:\"3\"}),f.default.createElement(\"span\",{className:a+\"-slash\"},\"／\"),n),f.default.createElement(\"li\",{title:e.showTitle?t.next_page:null,onClick:this.next,tabIndex:\"0\",onKeyPress:this.runIfEnterNext,className:(this.hasNext()?\"\":a+\"-disabled\")+\" \"+a+\"-next\",\"aria-disabled\":!this.hasNext()},e.itemRender(C,\"next\",f.default.createElement(\"a\",{className:a+\"-item-link\"}))),o);if(n<=5+2*c)for(var y=1;y<=n;y++){var x=this.state.current===y;l.push(f.default.createElement(v.default,{locale:t,rootPrefixCls:a,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:y,page:y,active:x,showTitle:e.showTitle,itemRender:e.itemRender}))}else{var E=e.showLessItems?t.prev_3:t.prev_5,N=e.showLessItems?t.next_3:t.next_5;r=f.default.createElement(\"li\",{title:e.showTitle?E:null,key:\"prev\",onClick:this.jumpPrev,tabIndex:\"0\",onKeyPress:this.runIfEnterJumpPrev,className:a+\"-jump-prev\"},e.itemRender(this.getJumpPrevPage(),\"jump-prev\",f.default.createElement(\"a\",{className:a+\"-item-link\"}))),s=f.default.createElement(\"li\",{title:e.showTitle?N:null,key:\"next\",tabIndex:\"0\",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:a+\"-jump-next\"},e.itemRender(this.getJumpNextPage(),\"jump-next\",f.default.createElement(\"a\",{className:a+\"-item-link\"}))),u=f.default.createElement(v.default,{locale:e.locale,last:!0,rootPrefixCls:a,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:n,page:n,active:!1,showTitle:e.showTitle,itemRender:e.itemRender}),i=f.default.createElement(v.default,{locale:e.locale,rootPrefixCls:a,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:e.showTitle,itemRender:e.itemRender});var b=Math.max(1,d-c),k=Math.min(d+c,n);d-1<=c&&(k=1+2*c),n-d<=c&&(b=n-2*c);for(var w=b;w<=k;w++){var I=d===w;l.push(f.default.createElement(v.default,{locale:e.locale,rootPrefixCls:a,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:w,page:w,active:I,showTitle:e.showTitle,itemRender:e.itemRender}))}d-1>=2*c&&3!==d&&(l[0]=f.default.cloneElement(l[0],{className:a+\"-item-after-jump-prev\"}),l.unshift(r)),n-d>=2*c&&d!==n-2&&(l[l.length-1]=f.default.cloneElement(l[l.length-1],{className:a+\"-item-before-jump-next\"}),l.push(s)),1!==b&&l.unshift(i),k!==n&&l.push(u)}var S=null;e.showTotal&&(S=f.default.createElement(\"li\",{className:a+\"-total-text\"},e.showTotal(e.total,[(d-1)*m+1,d*m>e.total?e.total:d*m])));var z=!this.hasPrev(),R=!this.hasNext();return f.default.createElement(\"ul\",{className:a+\" \"+e.className,style:e.style,unselectable:\"unselectable\"},S,f.default.createElement(\"li\",{title:e.showTitle?t.prev_page:null,onClick:this.prev,tabIndex:\"0\",onKeyPress:this.runIfEnterPrev,className:(z?a+\"-disabled\":\"\")+\" \"+a+\"-prev\",\"aria-disabled\":z},e.itemRender(g,\"prev\",f.default.createElement(\"a\",{className:a+\"-item-link\"}))),l,f.default.createElement(\"li\",{title:e.showTitle?t.next_page:null,onClick:this.next,tabIndex:\"0\",onKeyPress:this.runIfEnterNext,className:(R?a+\"-disabled\":\"\")+\" \"+a+\"-next\",\"aria-disabled\":R},e.itemRender(C,\"next\",f.default.createElement(\"a\",{className:a+\"-item-link\"}))),f.default.createElement(P.default,{locale:e.locale,rootPrefixCls:a,selectComponentClass:e.selectComponentClass,selectPrefixCls:e.selectPrefixCls,changeSize:this.props.showSizeChanger?this.changePageSize:null,current:this.state.current,pageSize:this.state.pageSize,pageSizeOptions:this.props.pageSizeOptions,quickGo:this.props.showQuickJumper?this.handleChange:null,goButton:h}))}}]),t}(f.default.Component);b.propTypes={current:m.default.number,defaultCurrent:m.default.number,total:m.default.number,pageSize:m.default.number,defaultPageSize:m.default.number,onChange:m.default.func,hideOnSinglePage:m.default.bool,showSizeChanger:m.default.bool,showLessItems:m.default.bool,onShowSizeChange:m.default.func,selectComponentClass:m.default.func,showQuickJumper:m.default.oneOfType([m.default.bool,m.default.object]),showTitle:m.default.bool,pageSizeOptions:m.default.arrayOf(m.default.string),showTotal:m.default.func,locale:m.default.object,style:m.default.object,itemRender:m.default.func},b.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:t,className:\"\",selectPrefixCls:\"rc-select\",prefixCls:\"rc-pagination\",selectComponentClass:null,hideOnSinglePage:!1,showQuickJumper:!1,showSizeChanger:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:t,locale:N.default,style:{},itemRender:n};var k=function(){var e=this;this.calculatePage=function(t){var a=t;return void 0===a&&(a=e.state.pageSize),Math.floor((e.props.total-1)/a)+1},this.isValid=function(t){return a(t)&&t>=1&&t!==e.state.current},this.handleKeyDown=function(e){e.keyCode!==x.default.ARROW_UP&&e.keyCode!==x.default.ARROW_DOWN||e.preventDefault()},this.handleKeyUp=function(t){var a=t.target.value,n=e.state.currentInputValue,l=void 0;(l=\"\"===a?a:isNaN(Number(a))?n:Number(a))!==n&&e.setState({currentInputValue:l}),t.keyCode===x.default.ENTER?e.handleChange(l):t.keyCode===x.default.ARROW_UP?e.handleChange(l-1):t.keyCode===x.default.ARROW_DOWN&&e.handleChange(l+1)},this.changePageSize=function(t){var a=e.state.current,n=e.calculatePage(t);a=a>n?n:a,\"number\"==typeof t&&(\"pageSize\"in e.props||e.setState({pageSize:t}),\"current\"in e.props||e.setState({current:a,currentInputValue:a})),e.props.onShowSizeChange(a,t)},this.handleChange=function(t){var a=t;if(e.isValid(a)){a>e.calculatePage()&&(a=e.calculatePage()),\"current\"in e.props||e.setState({current:a,currentInputValue:a});var n=e.state.pageSize;return e.props.onChange(a,n),a}return e.state.current},this.prev=function(){e.hasPrev()&&e.handleChange(e.state.current-1)},this.next=function(){e.hasNext()&&e.handleChange(e.state.current+1)},this.jumpPrev=function(){e.handleChange(e.getJumpPrevPage())},this.jumpNext=function(){e.handleChange(e.getJumpNextPage())},this.hasPrev=function(){return e.state.current>1},this.hasNext=function(){return e.state.current<e.calculatePage()},this.runIfEnter=function(e,t){for(var a=arguments.length,n=Array(a>2?a-2:0),l=2;l<a;l++)n[l-2]=arguments[l];\"Enter\"!==e.key&&13!==e.charCode||t.apply(void 0,n)},this.runIfEnterPrev=function(t){e.runIfEnter(t,e.prev)},this.runIfEnterNext=function(t){e.runIfEnter(t,e.next)},this.runIfEnterJumpPrev=function(t){e.runIfEnter(t,e.jumpPrev)},this.runIfEnterJumpNext=function(t){e.runIfEnter(t,e.jumpNext)},this.handleGoTO=function(t){t.keyCode!==x.default.ENTER&&\"click\"!==t.type||e.handleChange(e.state.currentInputValue)}};exports.default=b;"},"hash":"f39e922382c82181aa4a656bd7a9d177"}