{"dependencies":[{"name":"babel-runtime/helpers/extends","loc":{"line":1,"column":21}},{"name":"babel-runtime/helpers/defineProperty","loc":{"line":2,"column":28}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":3,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":4,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":5,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":6,"column":22}},{"name":"react","loc":{"line":15,"column":23}},{"name":"react-dom","loc":{"line":16,"column":26}},{"name":"../icon","loc":{"line":17,"column":17}},{"name":"classnames","loc":{"line":18,"column":23}}],"generated":{"js":"\"use strict\";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,\"__esModule\",{value:!0});var r=require(\"babel-runtime/helpers/extends\"),a=t(r),s=require(\"babel-runtime/helpers/defineProperty\"),l=t(s),i=require(\"babel-runtime/helpers/classCallCheck\"),n=t(i),o=require(\"babel-runtime/helpers/createClass\"),c=t(o),u=require(\"babel-runtime/helpers/possibleConstructorReturn\"),f=t(u),d=require(\"babel-runtime/helpers/inherits\"),p=t(d),h=require(\"react\"),m=e(h),b=require(\"react-dom\"),v=e(b),y=require(\"../icon\"),g=t(y),O=require(\"classnames\"),C=t(O),x=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&(r[a[s]]=e[a[s]])}return r},E=function(e){function t(e){(0,n.default)(this,t);var r=(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setScale=function(){var e=r.avatarChildren;if(e){var t=e.offsetWidth,a=v.findDOMNode(r).getBoundingClientRect().width;a-8<t?r.setState({scale:(a-8)/t}):r.setState({scale:1})}},r.handleImgLoadError=function(){return r.setState({isImgExist:!1})},r.state={scale:1,isImgExist:!0},r}return(0,p.default)(t,e),(0,c.default)(t,[{key:\"componentDidMount\",value:function(){this.setScale()}},{key:\"componentDidUpdate\",value:function(e,t){(e.children!==this.props.children||t.scale!==this.state.scale&&1===this.state.scale)&&this.setScale()}},{key:\"render\",value:function(){var e,t,r=this,s=this.props,i=s.prefixCls,n=s.shape,o=s.size,c=s.src,u=s.icon,f=s.className,d=x(s,[\"prefixCls\",\"shape\",\"size\",\"src\",\"icon\",\"className\"]),p=(0,C.default)((e={},(0,l.default)(e,i+\"-lg\",\"large\"===o),(0,l.default)(e,i+\"-sm\",\"small\"===o),e)),h=(0,C.default)(i,f,p,(t={},(0,l.default)(t,i+\"-\"+n,n),(0,l.default)(t,i+\"-image\",c),(0,l.default)(t,i+\"-icon\",u),t)),b=this.props.children;if(c&&this.state.isImgExist)b=m.createElement(\"img\",{src:c,onError:this.handleImgLoadError});else if(u)b=m.createElement(g.default,{type:u});else{var v=this.avatarChildren;if(v||1!==this.state.scale){var y={msTransform:\"scale(\"+this.state.scale+\")\",WebkitTransform:\"scale(\"+this.state.scale+\")\",transform:\"scale(\"+this.state.scale+\")\",position:\"absolute\",display:\"inline-block\",left:\"calc(50% - \"+Math.round(v.offsetWidth/2)+\"px)\"};b=m.createElement(\"span\",{className:i+\"-string\",ref:function(e){return r.avatarChildren=e},style:y},b)}else b=m.createElement(\"span\",{className:i+\"-string\",ref:function(e){return r.avatarChildren=e}},b)}return m.createElement(\"span\",(0,a.default)({},d,{className:h}),b)}}]),t}(m.Component);exports.default=E,E.defaultProps={prefixCls:\"ant-avatar\",shape:\"circle\",size:\"default\"};"},"hash":"9906d9ec20a36ccbd2d41d5476238843"}