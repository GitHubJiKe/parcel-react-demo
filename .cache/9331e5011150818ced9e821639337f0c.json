{"dependencies":[{"name":"babel-runtime/helpers/extends","loc":{"line":1,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":2,"column":28}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":3,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":4,"column":22}},{"name":"react","loc":{"line":5,"column":36}},{"name":"react-dom","loc":{"line":6,"column":28}},{"name":"prop-types","loc":{"line":7,"column":22}},{"name":"rc-util/es/Children/toArray","loc":{"line":8,"column":20}},{"name":"rc-menu","loc":{"line":9,"column":17}},{"name":"dom-scroll-into-view","loc":{"line":10,"column":27}},{"name":"./util","loc":{"line":11,"column":60}}],"generated":{"js":"\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,\"__esModule\",{value:!0});var t=require(\"babel-runtime/helpers/extends\"),l=e(t),i=require(\"babel-runtime/helpers/classCallCheck\"),n=e(i),r=require(\"babel-runtime/helpers/possibleConstructorReturn\"),u=e(r),o=require(\"babel-runtime/helpers/inherits\"),s=e(o),a=require(\"react\"),p=e(a),c=require(\"react-dom\"),f=require(\"prop-types\"),d=e(f),v=require(\"rc-util/es/Children/toArray\"),h=e(v),m=require(\"rc-menu\"),b=e(m),y=require(\"dom-scroll-into-view\"),M=e(y),V=require(\"./util\"),A=function(e){function t(){var l,i,r;(0,n.default)(this,t);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return l=i=(0,u.default)(this,e.call.apply(e,[this].concat(s))),i.scrollActiveItemToView=function(){var e=(0,c.findDOMNode)(i.firstActiveItem),t=i.props;if(e){var l={onlyScrollIfNeeded:!0};t.value&&0!==t.value.length||!t.firstActiveValue||(l.alignWithTop=!0),(0,M.default)(e,(0,c.findDOMNode)(i.menuRef),l)}},r=l,(0,u.default)(i,r)}return(0,s.default)(t,e),t.prototype.componentWillMount=function(){this.lastInputValue=this.props.inputValue},t.prototype.componentDidMount=function(){this.scrollActiveItemToView(),this.lastVisible=this.props.visible},t.prototype.shouldComponentUpdate=function(e){return e.visible||(this.lastVisible=!1),e.visible},t.prototype.componentDidUpdate=function(e){var t=this.props;!e.visible&&t.visible&&this.scrollActiveItemToView(),this.lastVisible=t.visible,this.lastInputValue=t.inputValue},t.prototype.renderMenu=function(){var e=this,t=this.props,i=t.menuItems,n=t.defaultActiveFirstOption,r=t.value,u=t.prefixCls,o=t.multiple,s=t.onMenuSelect,c=t.inputValue,f=t.firstActiveValue;if(i&&i.length){var d={};o?(d.onDeselect=t.onMenuDeselect,d.onSelect=s):d.onClick=s;var v=(0,V.getSelectKeys)(i,r),m={},y=i;if(v.length||f){t.visible&&!this.lastVisible&&(m.activeKey=v[0]||f);var M=!1,A=function(t){return!M&&-1!==v.indexOf(t.key)||!M&&!v.length&&-1!==f.indexOf(t.key)?(M=!0,(0,a.cloneElement)(t,{ref:function(t){e.firstActiveItem=t}})):t};y=i.map(function(e){if(e.type.isMenuItemGroup){var t=(0,h.default)(e.props.children).map(A);return(0,a.cloneElement)(e,{},t)}return A(e)})}var I=r&&r[r.length-1];return c===this.lastInputValue||I&&I.backfill||(m.activeKey=\"\"),p.default.createElement(b.default,(0,l.default)({ref:(0,V.saveRef)(this,\"menuRef\"),style:this.props.dropdownMenuStyle,defaultActiveFirst:n},m,{multiple:o,focusable:!1},d,{selectedKeys:v,prefixCls:u+\"-menu\"}),y)}return null},t.prototype.render=function(){var e=this.renderMenu();return e?p.default.createElement(\"div\",{style:{overflow:\"auto\"},onFocus:this.props.onPopupFocus,onMouseDown:V.preventDefaultEvent,onScroll:this.props.onPopupScroll},e):null},t}(p.default.Component);A.propTypes={defaultActiveFirstOption:d.default.bool,value:d.default.any,dropdownMenuStyle:d.default.object,multiple:d.default.bool,onPopupFocus:d.default.func,onPopupScroll:d.default.func,onMenuDeSelect:d.default.func,onMenuSelect:d.default.func,prefixCls:d.default.string,menuItems:d.default.any,inputValue:d.default.string,visible:d.default.bool},exports.default=A,A.displayName=\"DropdownMenu\";"},"hash":"b75ada294f8e89449900e6a9cdd25dac"}