{"dependencies":[{"name":"./DraftModifier","loc":{"line":16,"column":28}},{"name":"./EditorState","loc":{"line":17,"column":26}},{"name":"./SelectionState","loc":{"line":18,"column":29}},{"name":"./adjustBlockDepthForContentState","loc":{"line":20,"column":46}},{"name":"fbjs/lib/nullthrows","loc":{"line":21,"column":25}}],"generated":{"js":"\"use strict\";var e=require(\"./DraftModifier\"),t=require(\"./EditorState\"),r=require(\"./SelectionState\"),n=require(\"./adjustBlockDepthForContentState\"),o=require(\"fbjs/lib/nullthrows\"),l={currentBlockContainsLink:function(e){var t=e.getSelection(),r=e.getCurrentContent(),n=r.getEntityMap();return r.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){var t=e.getEntity();return!!t&&\"LINK\"===n.__get(t).getType()})},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t){switch(t){case\"bold\":return l.toggleInlineStyle(e,\"BOLD\");case\"italic\":return l.toggleInlineStyle(e,\"ITALIC\");case\"underline\":return l.toggleInlineStyle(e,\"UNDERLINE\");case\"code\":return l.toggleCode(e);case\"backspace\":case\"backspace-word\":case\"backspace-to-start-of-line\":return l.onBackspace(e);case\"delete\":case\"delete-word\":case\"delete-to-end-of-block\":return l.onDelete(e);default:return null}},insertSoftNewline:function(r){var n=e.insertText(r.getCurrentContent(),r.getSelection(),\"\\n\",r.getCurrentInlineStyle(),null),o=t.push(r,n,\"insert-characters\");return t.forceSelection(o,n.getSelectionAfter())},onBackspace:function(e){var r=e.getSelection();if(!r.isCollapsed()||r.getAnchorOffset()||r.getFocusOffset())return null;var n=e.getCurrentContent(),o=r.getStartKey(),c=n.getBlockBefore(o);if(c&&\"atomic\"===c.getType()){var i=n.getBlockMap().delete(c.getKey()),g=n.merge({blockMap:i,selectionAfter:r});if(g!==n)return t.push(e,g,\"remove-range\")}var u=l.tryToRemoveBlockStyle(e);return u?t.push(e,u,\"change-block-type\"):null},onDelete:function(r){var n=r.getSelection();if(!n.isCollapsed())return null;var o=r.getCurrentContent(),l=n.getStartKey(),c=o.getBlockForKey(l).getLength();if(n.getStartOffset()<c)return null;var i=o.getBlockAfter(l);if(!i||\"atomic\"!==i.getType())return null;var g=n.merge({focusKey:i.getKey(),focusOffset:i.getLength()}),u=e.removeRange(o,g,\"forward\");return u!==o?t.push(r,u,\"remove-range\"):null},onTab:function(e,r,o){var l=r.getSelection(),c=l.getAnchorKey();if(c!==l.getFocusKey())return r;var i=r.getCurrentContent(),g=i.getBlockForKey(c),u=g.getType();if(\"unordered-list-item\"!==u&&\"ordered-list-item\"!==u)return r;e.preventDefault();var a=i.getBlockBefore(c);if(!a)return r;var s=a.getType();if(\"unordered-list-item\"!==s&&\"ordered-list-item\"!==s)return r;var f=g.getDepth();if(!e.shiftKey&&f===o)return r;o=Math.min(a.getDepth()+1,o);var y=n(i,l,e.shiftKey?-1:1,o);return t.push(r,y,\"adjust-depth\")},toggleBlockType:function(r,n){var l=r.getSelection(),c=l.getStartKey(),i=l.getEndKey(),g=r.getCurrentContent(),u=l;if(c!==i&&0===l.getEndOffset()){var a=o(g.getBlockBefore(i));i=a.getKey(),u=u.merge({anchorKey:c,anchorOffset:l.getStartOffset(),focusKey:i,focusOffset:a.getLength(),isBackward:!1})}if(g.getBlockMap().skipWhile(function(e,t){return t!==c}).reverse().skipWhile(function(e,t){return t!==i}).some(function(e){return\"atomic\"===e.getType()}))return r;var s=g.getBlockForKey(c).getType()===n?\"unstyled\":n;return t.push(r,e.setBlockType(g,u,s),\"change-block-type\")},toggleCode:function(e){var t=e.getSelection(),r=t.getAnchorKey(),n=t.getFocusKey();return t.isCollapsed()||r!==n?l.toggleBlockType(e,\"code-block\"):l.toggleInlineStyle(e,\"CODE\")},toggleInlineStyle:function(r,n){var o=r.getSelection(),l=r.getCurrentInlineStyle();if(o.isCollapsed())return t.setInlineStyleOverride(r,l.has(n)?l.remove(n):l.add(n));var c,i=r.getCurrentContent();return c=l.has(n)?e.removeInlineStyle(i,o,n):e.applyInlineStyle(i,o,n),t.push(r,c,\"change-inline-style\")},toggleLink:function(r,n,o){var l=e.applyEntity(r.getCurrentContent(),n,o);return t.push(r,l,\"apply-entity\")},tryToRemoveBlockStyle:function(t){var r=t.getSelection(),n=r.getAnchorOffset();if(r.isCollapsed()&&0===n){var o=r.getAnchorKey(),l=t.getCurrentContent(),c=l.getBlockForKey(o),i=l.getFirstBlock();if(c.getLength()>0&&c!==i)return null;var g=c.getType(),u=l.getBlockBefore(o);if(\"code-block\"===g&&u&&\"code-block\"===u.getType())return null;if(\"unstyled\"!==g)return e.setBlockType(l,r,\"unstyled\")}return null}};module.exports=l;"},"hash":"974030c717d8d96d95a05b9ea82f3a33"}