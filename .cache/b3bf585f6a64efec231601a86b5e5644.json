{"dependencies":[{"name":"babel-runtime/helpers/defineProperty","loc":{"line":1,"column":28}},{"name":"classnames","loc":{"line":2,"column":23}},{"name":"./utils","loc":{"line":3,"column":51}},{"name":"react","loc":{"line":4,"column":18}},{"name":"rc-util/es/Dom/addEventListener","loc":{"line":5,"column":29}},{"name":"lodash.debounce","loc":{"line":6,"column":21}}],"generated":{"js":"\"use strict\";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"babel-runtime/helpers/defineProperty\"),s=t(e),a=require(\"classnames\"),i=t(a),n=require(\"./utils\"),r=require(\"react\"),f=t(r),o=require(\"rc-util/es/Dom/addEventListener\"),l=t(o),h=require(\"lodash.debounce\"),u=t(h);exports.default={getDefaultProps:function(){return{scrollAnimated:!0,onPrevClick:function(){},onNextClick:function(){}}},getInitialState:function(){return this.offset=0,{next:!1,prev:!1}},componentDidMount:function(){var t=this;this.componentDidUpdate();var e=(0,u.default)(function(){t.setNextPrev(),t.scrollToActiveTab()},200);this.resizeEvent=(0,l.default)(window,\"resize\",e)},componentDidUpdate:function(t){var e=this.props;if(t&&t.tabBarPosition!==e.tabBarPosition)this.setOffset(0);else{var s=this.setNextPrev();this.isNextPrevShown(this.state)!==this.isNextPrevShown(s)?this.setState({},this.scrollToActiveTab):t&&e.activeKey===t.activeKey||this.scrollToActiveTab()}},componentWillUnmount:function(){this.resizeEvent&&this.resizeEvent.remove()},setNextPrev:function(){var t=this.nav,e=this.getOffsetWH(t),s=this.navWrap,a=this.getOffsetWH(s),i=this.offset,n=a-e,r=this.state,f=r.next,o=r.prev;return n>=0?(f=!1,this.setOffset(0,!1),i=0):n<i?f=!0:(f=!1,this.setOffset(n,!1),i=n),o=i<0,this.setNext(f),this.setPrev(o),{next:f,prev:o}},getOffsetWH:function(t){var e=this.props.tabBarPosition,s=\"offsetWidth\";return\"left\"!==e&&\"right\"!==e||(s=\"offsetHeight\"),t[s]},getOffsetLT:function(t){var e=this.props.tabBarPosition,s=\"left\";return\"left\"!==e&&\"right\"!==e||(s=\"top\"),t.getBoundingClientRect()[s]},setOffset:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=Math.min(0,t);if(this.offset!==s){this.offset=s;var a={},i=this.props.tabBarPosition,r=this.nav.style,f=(0,n.isTransformSupported)(r);a=\"left\"===i||\"right\"===i?f?{value:\"translate3d(0,\"+s+\"px,0)\"}:{name:\"top\",value:s+\"px\"}:f?{value:\"translate3d(\"+s+\"px,0,0)\"}:{name:\"left\",value:s+\"px\"},f?(0,n.setTransform)(r,a.value):r[a.name]=a.value,e&&this.setNextPrev()}},setPrev:function(t){this.state.prev!==t&&this.setState({prev:t})},setNext:function(t){this.state.next!==t&&this.setState({next:t})},isNextPrevShown:function(t){return t?t.next||t.prev:this.state.next||this.state.prev},prevTransitionEnd:function(t){if(\"opacity\"===t.propertyName){var e=this.container;this.scrollToActiveTab({target:e,currentTarget:e})}},scrollToActiveTab:function(t){var e=this.activeTab,s=this.navWrap;if((!t||t.target===t.currentTarget)&&e){var a=this.isNextPrevShown()&&this.lastNextPrevShown;if(this.lastNextPrevShown=this.isNextPrevShown(),a){var i=this.getOffsetWH(e),n=this.getOffsetWH(s),r=this.offset,f=this.getOffsetLT(s),o=this.getOffsetLT(e);f>o?(r+=f-o,this.setOffset(r)):f+n<o+i&&(r-=o+i-(f+n),this.setOffset(r))}}},prev:function(t){this.props.onPrevClick(t);var e=this.navWrap,s=this.getOffsetWH(e),a=this.offset;this.setOffset(a+s)},next:function(t){this.props.onNextClick(t);var e=this.navWrap,s=this.getOffsetWH(e),a=this.offset;this.setOffset(a-s)},getScrollBarNode:function(t){var e,a,n,r,o=this.state,l=o.next,h=o.prev,u=this.props,v=u.prefixCls,c=u.scrollAnimated,d=h||l,p=f.default.createElement(\"span\",{onClick:h?this.prev:null,unselectable:\"unselectable\",className:(0,i.default)((e={},(0,s.default)(e,v+\"-tab-prev\",1),(0,s.default)(e,v+\"-tab-btn-disabled\",!h),(0,s.default)(e,v+\"-tab-arrow-show\",d),e)),onTransitionEnd:this.prevTransitionEnd},f.default.createElement(\"span\",{className:v+\"-tab-prev-icon\"})),m=f.default.createElement(\"span\",{onClick:l?this.next:null,unselectable:\"unselectable\",className:(0,i.default)((a={},(0,s.default)(a,v+\"-tab-next\",1),(0,s.default)(a,v+\"-tab-btn-disabled\",!l),(0,s.default)(a,v+\"-tab-arrow-show\",d),a))},f.default.createElement(\"span\",{className:v+\"-tab-next-icon\"})),x=v+\"-nav\",b=(0,i.default)((n={},(0,s.default)(n,x,!0),(0,s.default)(n,c?x+\"-animated\":x+\"-no-animated\",!0),n));return f.default.createElement(\"div\",{className:(0,i.default)((r={},(0,s.default)(r,v+\"-nav-container\",1),(0,s.default)(r,v+\"-nav-container-scrolling\",d),r)),key:\"container\",ref:this.saveRef(\"container\")},p,m,f.default.createElement(\"div\",{className:v+\"-nav-wrap\",ref:this.saveRef(\"navWrap\")},f.default.createElement(\"div\",{className:v+\"-nav-scroll\"},f.default.createElement(\"div\",{className:b,ref:this.saveRef(\"nav\")},t))))}};"},"hash":"fea679209d1f0addf6c6bde1984653c2"}