{"dependencies":[{"name":"babel-runtime/helpers/extends","loc":{"line":1,"column":21}},{"name":"react","loc":{"line":2,"column":18}},{"name":"prop-types","loc":{"line":3,"column":22}},{"name":"react-dom","loc":{"line":4,"column":21}},{"name":"rc-util/es/KeyCode","loc":{"line":5,"column":20}},{"name":"rc-util/es/createChainedFunction","loc":{"line":6,"column":34}},{"name":"classnames","loc":{"line":7,"column":23}},{"name":"dom-scroll-into-view","loc":{"line":8,"column":27}},{"name":"./util","loc":{"line":9,"column":54}},{"name":"./DOMWrap","loc":{"line":10,"column":20}}],"generated":{"js":"\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return!e.length||e.every(function(e){return!!e.props.disabled})}function n(e,t){var n=t,r=e.children,i=e.eventKey;if(n){var a=void 0;if((0,A.loopMenuItem)(r,function(e,t){e&&!e.props.disabled&&n===(0,A.getKeyFromChildrenIndex)(e,i,t)&&(a=!0)}),a)return n}return n=null,e.defaultActiveFirst?((0,A.loopMenuItem)(r,function(e,t){n||!e||e.props.disabled||(n=(0,A.getKeyFromChildrenIndex)(e,i,t))}),n):n}function r(e,t,n){n&&(void 0!==t?(this.instanceArray[e]=this.instanceArray[e]||[],this.instanceArray[e][t]=n):this.instanceArray[e]=n)}Object.defineProperty(exports,\"__esModule\",{value:!0});var i=require(\"babel-runtime/helpers/extends\"),a=e(i),l=require(\"react\"),s=e(l),o=require(\"prop-types\"),u=e(o),d=require(\"react-dom\"),c=e(d),f=require(\"rc-util/es/KeyCode\"),p=e(f),y=require(\"rc-util/es/createChainedFunction\"),v=e(y),h=require(\"classnames\"),m=e(h),b=require(\"dom-scroll-into-view\"),K=e(b),A=require(\"./util\"),C=require(\"./DOMWrap\"),g=e(C),I={propTypes:{focusable:u.default.bool,multiple:u.default.bool,style:u.default.object,defaultActiveFirst:u.default.bool,visible:u.default.bool,activeKey:u.default.string,selectedKeys:u.default.arrayOf(u.default.string),defaultSelectedKeys:u.default.arrayOf(u.default.string),defaultOpenKeys:u.default.arrayOf(u.default.string),openKeys:u.default.arrayOf(u.default.string),children:u.default.any},getDefaultProps:function(){return{prefixCls:\"rc-menu\",className:\"\",mode:\"vertical\",level:1,inlineIndent:24,visible:!0,focusable:!0,style:{}}},getInitialState:function(){var e=this.props;return{activeKey:n(e,e.activeKey)}},componentWillReceiveProps:function(e){var t=void 0;if(\"activeKey\"in e)t={activeKey:n(e,e.activeKey)};else{var r=this.state.activeKey,i=n(e,r);i!==r&&(t={activeKey:i})}t&&this.setState(t)},shouldComponentUpdate:function(e){return this.props.visible||e.visible},componentWillMount:function(){this.instanceArray=[]},onKeyDown:function(e,t){var n=this,r=e.keyCode,i=void 0;if(this.getFlatInstanceArray().forEach(function(t){t&&t.props.active&&t.onKeyDown&&(i=t.onKeyDown(e))}),i)return 1;var a=null;return r!==p.default.UP&&r!==p.default.DOWN||(a=this.step(r===p.default.UP?-1:1)),a?(e.preventDefault(),this.setState({activeKey:a.props.eventKey},function(){(0,K.default)(c.default.findDOMNode(a),c.default.findDOMNode(n),{onlyScrollIfNeeded:!0}),\"function\"==typeof t&&t(a)}),1):void 0===a?(e.preventDefault(),this.setState({activeKey:null}),1):void 0},onItemHover:function(e){var t=e.key,n=e.hover;this.setState({activeKey:n?t:null})},getFlatInstanceArray:function(){var e=this.instanceArray;return e.some(function(e){return Array.isArray(e)})&&(e=[],this.instanceArray.forEach(function(t){Array.isArray(t)?e.push.apply(e,t):e.push(t)}),this.instanceArray=e),e},renderCommonMenuItem:function(e,t,n,i){var l=this.state,o=this.props,u=(0,A.getKeyFromChildrenIndex)(e,o.eventKey,t),d=e.props,c=u===l.activeKey,f=(0,a.default)({mode:o.mode,level:o.level,inlineIndent:o.inlineIndent,renderMenuItem:this.renderMenuItem,rootPrefixCls:o.prefixCls,index:t,parentMenu:this,ref:d.disabled?void 0:(0,v.default)(e.ref,r.bind(this,t,n)),eventKey:u,active:!d.disabled&&c,multiple:o.multiple,onClick:this.onClick,onItemHover:this.onItemHover,openTransitionName:this.getOpenTransitionName(),openAnimation:o.openAnimation,subMenuOpenDelay:o.subMenuOpenDelay,subMenuCloseDelay:o.subMenuCloseDelay,forceSubMenuRender:o.forceSubMenuRender,onOpenChange:this.onOpenChange,onDeselect:this.onDeselect,onSelect:this.onSelect},i);return\"inline\"===o.mode&&(f.triggerSubMenuAction=\"click\"),s.default.cloneElement(e,f)},renderRoot:function(e){this.instanceArray=[];var t={className:(0,m.default)(e.prefixCls,e.className,e.prefixCls+\"-\"+e.mode),role:\"menu\",\"aria-activedescendant\":\"\"};return e.id&&(t.id=e.id),e.focusable&&(t.tabIndex=\"0\",t.onKeyDown=this.onKeyDown),s.default.createElement(g.default,(0,a.default)({style:e.style,tag:\"ul\",hiddenClassName:e.prefixCls+\"-hidden\",visible:e.visible},t),s.default.Children.map(e.children,this.renderMenuItem))},step:function(e){var n=this.getFlatInstanceArray(),r=this.state.activeKey,i=n.length;if(!i)return null;e<0&&(n=n.concat().reverse());var a=-1;if(n.every(function(e,t){return!e||e.props.eventKey!==r||(a=t,!1)}),this.props.defaultActiveFirst||-1===a||!t(n.slice(a,i-1)))for(var l=(a+1)%i,s=l;;){var o=n[s];if(o&&!o.props.disabled)return o;if((s=(s+1+i)%i)===l)return null}}};exports.default=I;"},"hash":"a258261af4975b43406d5e25fad925a4"}