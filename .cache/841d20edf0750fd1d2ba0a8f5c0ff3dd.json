{"dependencies":[{"name":"react","loc":{"line":9,"column":21}},{"name":"prop-types","loc":{"line":13,"column":25}},{"name":"react-dom","loc":{"line":17,"column":24}},{"name":"eventlistener","loc":{"line":19,"column":29}},{"name":"lodash.debounce","loc":{"line":21,"column":22}},{"name":"lodash.throttle","loc":{"line":25,"column":23}},{"name":"./utils/parentScroll","loc":{"line":29,"column":28}},{"name":"./utils/inViewport","loc":{"line":33,"column":26}}],"generated":{"js":"\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function n(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=require(\"react\"),l=e(a),i=require(\"prop-types\"),s=e(i),f=require(\"react-dom\"),u=require(\"eventlistener\"),d=require(\"lodash.debounce\"),h=e(d),c=require(\"lodash.throttle\"),p=e(c),y=require(\"./utils/parentScroll\"),b=e(y),m=require(\"./utils/inViewport\"),v=e(m),L=function(e){function i(e){t(this,i);var n=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n.lazyLoadHandler=n.lazyLoadHandler.bind(n),e.throttle>0&&(e.debounce?n.lazyLoadHandler=(0,h.default)(n.lazyLoadHandler,e.throttle):n.lazyLoadHandler=(0,p.default)(n.lazyLoadHandler,e.throttle)),n.state={visible:!1},n}return n(i,a.Component),r(i,[{key:\"componentDidMount\",value:function(){this._mounted=!0;var e=this.getEventNode();this.lazyLoadHandler(),this.lazyLoadHandler.flush&&this.lazyLoadHandler.flush(),(0,u.add)(window,\"resize\",this.lazyLoadHandler),(0,u.add)(e,\"scroll\",this.lazyLoadHandler)}},{key:\"componentWillReceiveProps\",value:function(){this.state.visible||this.lazyLoadHandler()}},{key:\"shouldComponentUpdate\",value:function(e,t){return t.visible}},{key:\"componentWillUnmount\",value:function(){this._mounted=!1,this.lazyLoadHandler.cancel&&this.lazyLoadHandler.cancel(),this.detachListeners()}},{key:\"getEventNode\",value:function(){return(0,b.default)((0,f.findDOMNode)(this))}},{key:\"getOffset\",value:function(){var e=this.props,t=e.offset,o=e.offsetVertical,n=e.offsetHorizontal,r=e.offsetTop,a=e.offsetBottom,l=e.offsetLeft,i=e.offsetRight,s=e.threshold||t,f=o||s,u=n||s;return{top:r||f,bottom:a||f,left:l||u,right:i||u}}},{key:\"lazyLoadHandler\",value:function(){if(this._mounted){var e=this.getOffset(),t=(0,f.findDOMNode)(this),o=this.getEventNode();if((0,v.default)(t,o,e)){var n=this.props.onContentVisible;this.setState({visible:!0},function(){n&&n()}),this.detachListeners()}}}},{key:\"detachListeners\",value:function(){var e=this.getEventNode();(0,u.remove)(window,\"resize\",this.lazyLoadHandler),(0,u.remove)(e,\"scroll\",this.lazyLoadHandler)}},{key:\"render\",value:function(){var e=this.props,t=e.children,o=e.className,n=e.height,r=e.width,i=this.state.visible,s={height:n,width:r},f=\"LazyLoad\"+(i?\" is-visible\":\"\")+(o?\" \"+o:\"\");return l.default.createElement(this.props.elementType,{className:f,style:s},i&&a.Children.only(t))}}]),i}();exports.default=L,L.propTypes={children:s.default.node.isRequired,className:s.default.string,debounce:s.default.bool,elementType:s.default.string,height:s.default.oneOfType([s.default.string,s.default.number]),offset:s.default.number,offsetBottom:s.default.number,offsetHorizontal:s.default.number,offsetLeft:s.default.number,offsetRight:s.default.number,offsetTop:s.default.number,offsetVertical:s.default.number,threshold:s.default.number,throttle:s.default.number,width:s.default.oneOfType([s.default.string,s.default.number]),onContentVisible:s.default.func},L.defaultProps={elementType:\"div\",debounce:!0,offset:0,offsetBottom:0,offsetHorizontal:0,offsetLeft:0,offsetRight:0,offsetTop:0,offsetVertical:0,throttle:250};"},"hash":"c9ca2cf6cca558e921950b6d852ebd4f"}