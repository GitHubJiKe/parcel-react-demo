{"dependencies":[{"name":"babel-runtime/helpers/extends","loc":{"line":1,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":2,"column":28}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":3,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":4,"column":22}},{"name":"react","loc":{"line":5,"column":18}},{"name":"react-dom","loc":{"line":6,"column":21}},{"name":"rc-util/es/KeyCode","loc":{"line":7,"column":20}},{"name":"rc-animate","loc":{"line":8,"column":20}},{"name":"./LazyRenderBox","loc":{"line":9,"column":26}},{"name":"rc-util/es/getScrollBarSize","loc":{"line":10,"column":29}},{"name":"object-assign","loc":{"line":11,"column":19}}],"generated":{"js":"\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var i=e[\"page\"+(t?\"Y\":\"X\")+\"Offset\"],n=\"scroll\"+(t?\"Top\":\"Left\");if(\"number\"!=typeof i){var o=e.document;\"number\"!=typeof(i=o.documentElement[n])&&(i=o.body[n])}return i}function i(e,t){var i=e.style;[\"Webkit\",\"Moz\",\"Ms\",\"ms\"].forEach(function(e){i[e+\"TransformOrigin\"]=t}),i.transformOrigin=t}function n(e){var i=e.getBoundingClientRect(),n={left:i.left,top:i.top},o=e.ownerDocument,l=o.defaultView||o.parentWindow;return n.left+=t(l),n.top+=t(l,!0),n}Object.defineProperty(exports,\"__esModule\",{value:!0});var o=require(\"babel-runtime/helpers/extends\"),l=e(o),r=require(\"babel-runtime/helpers/classCallCheck\"),a=e(r),s=require(\"babel-runtime/helpers/possibleConstructorReturn\"),d=e(s),c=require(\"babel-runtime/helpers/inherits\"),u=e(c),f=require(\"react\"),p=e(f),m=require(\"react-dom\"),v=e(m),h=require(\"rc-util/es/KeyCode\"),y=e(h),b=require(\"rc-animate\"),g=e(b),w=require(\"./LazyRenderBox\"),k=e(w),E=require(\"rc-util/es/getScrollBarSize\"),S=e(E),C=require(\"object-assign\"),N=e(C),x=0,I=0,M=function(e){function t(){(0,a.default)(this,t);var i=(0,d.default)(this,e.apply(this,arguments));return i.onAnimateLeave=function(){var e=i.props.afterClose;i.wrap&&(i.wrap.style.display=\"none\"),i.inTransition=!1,i.removeScrollingEffect(),e&&e()},i.onMaskClick=function(e){Date.now()-i.openTime<300||e.target===e.currentTarget&&i.close(e)},i.onKeyDown=function(e){var t=i.props;if(t.keyboard&&e.keyCode===y.default.ESC&&i.close(e),t.visible&&e.keyCode===y.default.TAB){var n=document.activeElement,o=i.wrap;e.shiftKey?n===o&&i.sentinel.focus():n===i.sentinel&&o.focus()}},i.getDialogElement=function(){var e=i.props,t=e.closable,n=e.prefixCls,o={};void 0!==e.width&&(o.width=e.width),void 0!==e.height&&(o.height=e.height);var r=void 0;e.footer&&(r=p.default.createElement(\"div\",{className:n+\"-footer\",ref:\"footer\"},e.footer));var a=void 0;e.title&&(a=p.default.createElement(\"div\",{className:n+\"-header\",ref:\"header\"},p.default.createElement(\"div\",{className:n+\"-title\",id:i.titleId},e.title)));var s=void 0;t&&(s=p.default.createElement(\"button\",{onClick:i.close,\"aria-label\":\"Close\",className:n+\"-close\"},p.default.createElement(\"span\",{className:n+\"-close-x\"})));var d=(0,N.default)({},e.style,o),c=i.getTransitionName(),u=p.default.createElement(k.default,{key:\"dialog-element\",role:\"document\",ref:i.saveRef(\"dialog\"),style:d,className:n+\" \"+(e.className||\"\"),visible:e.visible},p.default.createElement(\"div\",{className:n+\"-content\"},s,a,p.default.createElement(\"div\",(0,l.default)({className:n+\"-body\",style:e.bodyStyle,ref:\"body\"},e.bodyProps),e.children),r),p.default.createElement(\"div\",{tabIndex:0,ref:i.saveRef(\"sentinel\"),style:{width:0,height:0,overflow:\"hidden\"}},\"sentinel\"));return p.default.createElement(g.default,{key:\"dialog\",showProp:\"visible\",onLeave:i.onAnimateLeave,transitionName:c,component:\"\",transitionAppear:!0},u)},i.getZIndexStyle=function(){var e={},t=i.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},i.getWrapStyle=function(){return(0,N.default)({},i.getZIndexStyle(),i.props.wrapStyle)},i.getMaskStyle=function(){return(0,N.default)({},i.getZIndexStyle(),i.props.maskStyle)},i.getMaskElement=function(){var e=i.props,t=void 0;if(e.mask){var n=i.getMaskTransitionName();t=p.default.createElement(k.default,(0,l.default)({style:i.getMaskStyle(),key:\"mask\",className:e.prefixCls+\"-mask\",hiddenClassName:e.prefixCls+\"-mask-hidden\",visible:e.visible},e.maskProps)),n&&(t=p.default.createElement(g.default,{key:\"mask\",showProp:\"visible\",transitionAppear:!0,component:\"\",transitionName:n},t))}return t},i.getMaskTransitionName=function(){var e=i.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+\"-\"+n),t},i.getTransitionName=function(){var e=i.props,t=e.transitionName,n=e.animation;return!t&&n&&(t=e.prefixCls+\"-\"+n),t},i.setScrollbar=function(){i.bodyIsOverflowing&&void 0!==i.scrollbarWidth&&(document.body.style.paddingRight=i.scrollbarWidth+\"px\")},i.addScrollingEffect=function(){1===++I&&(i.checkScrollbar(),i.setScrollbar(),document.body.style.overflow=\"hidden\")},i.removeScrollingEffect=function(){0===--I&&(document.body.style.overflow=\"\",i.resetScrollbar())},i.close=function(e){var t=i.props.onClose;t&&t(e)},i.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}i.bodyIsOverflowing=document.body.clientWidth<e,i.bodyIsOverflowing&&(i.scrollbarWidth=(0,S.default)())},i.resetScrollbar=function(){document.body.style.paddingRight=\"\"},i.adjustDialog=function(){if(i.wrap&&void 0!==i.scrollbarWidth){var e=i.wrap.scrollHeight>document.documentElement.clientHeight;i.wrap.style.paddingLeft=(!i.bodyIsOverflowing&&e?i.scrollbarWidth:\"\")+\"px\",i.wrap.style.paddingRight=(i.bodyIsOverflowing&&!e?i.scrollbarWidth:\"\")+\"px\"}},i.resetAdjustments=function(){i.wrap&&(i.wrap.style.paddingLeft=i.wrap.style.paddingLeft=\"\")},i.saveRef=function(e){return function(t){i[e]=t}},i}return(0,u.default)(t,e),t.prototype.componentWillMount=function(){this.inTransition=!1,this.titleId=\"rcDialogTitle\"+x++},t.prototype.componentDidMount=function(){this.componentDidUpdate({})},t.prototype.componentDidUpdate=function(e){var t=this.props,o=this.props.mousePosition;if(t.visible){if(!e.visible){this.openTime=Date.now(),this.lastOutSideFocusNode=document.activeElement,this.addScrollingEffect(),this.wrap.focus();var l=v.default.findDOMNode(this.dialog);if(o){var r=n(l);i(l,o.x-r.left+\"px \"+(o.y-r.top)+\"px\")}else i(l,\"\")}}else if(e.visible&&(this.inTransition=!0,t.mask&&this.lastOutSideFocusNode)){try{this.lastOutSideFocusNode.focus()}catch(e){this.lastOutSideFocusNode=null}this.lastOutSideFocusNode=null}},t.prototype.componentWillUnmount=function(){(this.props.visible||this.inTransition)&&this.removeScrollingEffect()},t.prototype.render=function(){var e=this.props,t=e.prefixCls,i=e.maskClosable,n=this.getWrapStyle();return e.visible&&(n.display=null),p.default.createElement(\"div\",null,this.getMaskElement(),p.default.createElement(\"div\",(0,l.default)({tabIndex:-1,onKeyDown:this.onKeyDown,className:t+\"-wrap \"+(e.wrapClassName||\"\"),ref:this.saveRef(\"wrap\"),onClick:i?this.onMaskClick:void 0,role:\"dialog\",\"aria-labelledby\":e.title?this.titleId:null,style:n},e.wrapProps),this.getDialogElement()))},t}(p.default.Component);exports.default=M,M.defaultProps={className:\"\",mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,prefixCls:\"rc-dialog\"};"},"hash":"a7ced4436e757c7f99c666d9a2a7e6ae"}