{"dependencies":[{"name":"./CharacterMetadata","loc":{"line":16,"column":32}},{"name":"./ContentBlock","loc":{"line":17,"column":27}},{"name":"./DefaultDraftBlockRenderMap","loc":{"line":18,"column":41}},{"name":"./DraftEntity","loc":{"line":19,"column":26}},{"name":"immutable","loc":{"line":22,"column":23}},{"name":"fbjs/lib/URI","loc":{"line":25,"column":18}},{"name":"./generateRandomKey","loc":{"line":27,"column":32}},{"name":"./getSafeBodyFromHTML","loc":{"line":28,"column":34}},{"name":"fbjs/lib/invariant","loc":{"line":29,"column":24}},{"name":"fbjs/lib/nullthrows","loc":{"line":30,"column":25}},{"name":"./sanitizeDraftText","loc":{"line":31,"column":32}}],"generated":{"js":"\"use strict\";function e(){return{text:\"\",inlines:[],entities:[],blocks:[]}}function t(e){var t=new Array(1);return e&&(t[0]=e),{text:S,inlines:[A()],entities:t,blocks:[]}}function n(){return{text:\"\\n\",inlines:[A()],entities:new Array(1),blocks:[]}}function r(e,t){return{text:\"\\r\",inlines:[A()],entities:new Array(1),blocks:[{type:e,depth:Math.max(0,Math.min(N,t))}]}}function i(e,t){return\"li\"===e?\"ol\"===t?\"ordered-list-item\":\"unordered-list-item\":null}function l(e){var t=e.get(\"unstyled\").element,n=E([]);return e.forEach(function(e){e.aliasedElements&&e.aliasedElements.forEach(function(e){n=n.add(e)}),n=n.add(e.element)}),n.filter(function(e){return e&&e!==t}).toArray().sort()}function s(e,t,n){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}return null}function a(e,t,n){var r=n.filter(function(t){return t.element===e||t.wrapper===e||t.aliasedElements&&t.aliasedElements.some(function(t){return t===e})}).keySeq().toSet().toArray().sort();switch(r.length){case 0:return\"unstyled\";case 1:return r[0];default:return s(e,t,[i])||\"unstyled\"}}function o(e,t,n){var r=_[e];if(r)n=n.add(r).toOrderedSet();else if(t instanceof HTMLElement){var i=t;n=n.withMutations(function(e){var t=i.style.fontWeight,n=i.style.fontStyle,r=i.style.textDecoration;K.indexOf(t)>=0?e.add(\"BOLD\"):G.indexOf(t)>=0&&e.remove(\"BOLD\"),\"italic\"===n?e.add(\"ITALIC\"):\"normal\"===n&&e.remove(\"ITALIC\"),\"underline\"===r&&e.add(\"UNDERLINE\"),\"line-through\"===r&&e.add(\"STRIKETHROUGH\"),\"none\"===r&&(e.remove(\"UNDERLINE\"),e.remove(\"STRIKETHROUGH\"))}).toOrderedSet()}return n}function u(e,t){var n=e.text.slice(-1),r=t.text.slice(0,1);if(\"\\r\"===n&&\"\\r\"===r&&(e.text=e.text.slice(0,-1),e.inlines.pop(),e.entities.pop(),e.blocks.pop()),\"\\r\"===n){if(t.text===S||\"\\n\"===t.text)return e;r!==S&&\"\\n\"!==r||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}}function c(e,t){return t.some(function(t){return-1!==e.indexOf(\"<\"+t)})}function f(e){e instanceof HTMLAnchorElement||T(!1);var t=e.protocol;return\"http:\"===t||\"https:\"===t||\"mailto:\"===t}function d(i,l,s,c,h,p,x,y,g){var b=l.nodeName.toLowerCase(),k=!1,E=\"unstyled\",M=m,I=i;if(\"#text\"===b){var T=l.textContent;return\"\"===T.trim()&&\"pre\"!==h?{chunk:t(g),entityMap:i}:(\"pre\"!==h&&(T=T.replace(C,S)),m=b,{chunk:{text:T,inlines:Array(T.length).fill(s),entities:Array(T.length).fill(g),blocks:[]},entityMap:i})}if(m=b,\"br\"===b)return\"br\"!==M||h&&\"unstyled\"!==a(h,c,y)?{chunk:n(),entityMap:i}:{chunk:r(\"unstyled\",x),entityMap:i};if(\"img\"===b&&l instanceof HTMLImageElement&&l.attributes.getNamedItem(\"src\")&&l.attributes.getNamedItem(\"src\").value){var R=l,O={};z.forEach(function(e){var t=R.getAttribute(e);t&&(O[e]=t)}),l.textContent=\"ðŸ“·\",g=v.__create(\"IMAGE\",\"MUTABLE\",O||{})}var w=e();s=o(b,l,s),\"ul\"!==b&&\"ol\"!==b||(c&&(x+=1),c=b),h||-1===p.indexOf(b)?c&&\"li\"===h&&\"li\"===b&&(w=r(a(b,c,y),x),h=b,k=!0,E=\"ul\"===c?\"unordered-list-item\":\"ordered-list-item\"):(w=r(a(b,c,y),x),h=b,k=!0);var A=l.firstChild;null!=A&&(b=A.nodeName.toLowerCase());for(var H=null;A;){A instanceof HTMLAnchorElement&&A.href&&f(A)?function(){var e=A,t={};j.forEach(function(n){var r=e.getAttribute(n);r&&(t[n]=r)}),t.url=new L(e.href).toString(),H=v.__create(\"LINK\",\"MUTABLE\",t||{})}():H=void 0;var N=d(I,A,s,c,h,p,x,y,H||g),q=N.chunk;I=N.entityMap,w=u(w,q);var D=A.nextSibling;D&&p.indexOf(b)>=0&&h&&(w=u(w,n())),D&&(b=D.nodeName.toLowerCase()),A=D}return k&&(w=u(w,r(E,x))),{chunk:w,entityMap:I}}function h(e,t,n,r){e=e.trim().replace(q,\"\").replace(D,S).replace(U,\"\").replace(B,\"\");var i=l(n),s=t(e);if(!s)return null;m=null;var a=c(e,i)?i:[\"div\"],o=d(r,s,A(),\"ul\",null,a,-1,n),u=o.chunk,f=o.entityMap;return 0===u.text.indexOf(\"\\r\")&&(u={text:u.text.slice(1),inlines:u.inlines.slice(1),entities:u.entities.slice(1),blocks:u.blocks}),\"\\r\"===u.text.slice(-1)&&(u.text=u.text.slice(0,-1),u.inlines=u.inlines.slice(0,-1),u.entities=u.entities.slice(0,-1),u.blocks.pop()),0===u.blocks.length&&u.blocks.push({type:\"unstyled\",depth:0}),u.text.split(\"\\r\").length===u.blocks.length+1&&u.blocks.unshift({type:\"unstyled\",depth:0}),{chunk:u,entityMap:f}}function p(e){var t=h(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,arguments.length>2&&void 0!==arguments[2]?arguments[2]:g,v);if(null==t)return null;var n=t.chunk,r=t.entityMap,i=0;return{contentBlocks:n.text.split(\"\\r\").map(function(e,t){e=O(e);var r=i+e.length,l=R(n).inlines.slice(i,r),s=R(n).entities.slice(i,r),a=w(l.map(function(e,t){var n={style:e,entity:null};return s[t]&&(n.entity=s[t]),x.create(n)}));return i=r+1,new y({key:M(),type:R(n).blocks[t].type,depth:R(n).blocks[t].depth,text:e,characterList:a})}),entityMap:r}}var m,x=require(\"./CharacterMetadata\"),y=require(\"./ContentBlock\"),g=require(\"./DefaultDraftBlockRenderMap\"),v=require(\"./DraftEntity\"),b=require(\"immutable\"),k=require(\"immutable\"),E=k.Set,L=require(\"fbjs/lib/URI\"),M=require(\"./generateRandomKey\"),I=require(\"./getSafeBodyFromHTML\"),T=require(\"fbjs/lib/invariant\"),R=require(\"fbjs/lib/nullthrows\"),O=require(\"./sanitizeDraftText\"),w=b.List,A=b.OrderedSet,H=\"&nbsp;\",S=\" \",N=4,q=new RegExp(\"\\r\",\"g\"),C=new RegExp(\"\\n\",\"g\"),D=new RegExp(H,\"g\"),U=new RegExp(\"&#13;?\",\"g\"),B=new RegExp(\"&#8203;?\",\"g\"),K=[\"bold\",\"bolder\",\"500\",\"600\",\"700\",\"800\",\"900\"],G=[\"light\",\"lighter\",\"100\",\"200\",\"300\",\"400\"],_={b:\"BOLD\",code:\"CODE\",del:\"STRIKETHROUGH\",em:\"ITALIC\",i:\"ITALIC\",s:\"STRIKETHROUGH\",strike:\"STRIKETHROUGH\",strong:\"BOLD\",u:\"UNDERLINE\"},j=[\"className\",\"href\",\"rel\",\"target\",\"title\"],z=[\"alt\",\"className\",\"height\",\"src\",\"width\"];module.exports=p;"},"hash":"4ff9409fe86ef64bdade788006530d34"}