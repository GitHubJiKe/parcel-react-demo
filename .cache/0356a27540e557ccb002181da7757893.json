{"dependencies":[{"name":"fbjs/lib/UnicodeUtils","loc":{"line":16,"column":27}},{"name":"./getRangeClientRects","loc":{"line":18,"column":34}},{"name":"fbjs/lib/invariant","loc":{"line":19,"column":24}}],"generated":{"js":"\"use strict\";function e(e){var t=getComputedStyle(e),n=document.createElement(\"div\");n.style.fontFamily=t.fontFamily,n.style.fontSize=t.fontSize,n.style.fontStyle=t.fontStyle,n.style.fontWeight=t.fontWeight,n.style.lineHeight=t.lineHeight,n.style.position=\"absolute\",n.textContent=\"M\";var o=document.body;o||a(!1),o.appendChild(n);var r=n.getBoundingClientRect();return o.removeChild(n),r.height}function t(e,t){for(var n=1/0,o=1/0,r=-1/0,i=-1/0,a=0;a<e.length;a++){var l=e[a];0!==l.width&&1!==l.width&&(n=Math.min(n,l.top),o=Math.min(o,l.bottom),r=Math.max(r,l.top),i=Math.max(i,l.bottom))}return r<=o&&r-n<t&&i-o<t}function n(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}function o(o){o.collapsed||a(!1);var l=(o=o.cloneRange()).startContainer;1!==l.nodeType&&(l=l.parentNode);var s=e(l),d=o.endContainer,f=o.endOffset;for(o.setStart(o.startContainer,0);t(i(o),s)&&(d=o.startContainer,f=o.startOffset,d.parentNode||a(!1),o.setStartBefore(d),1!==d.nodeType||\"inline\"===getComputedStyle(d).display););for(var u=d,h=f-1;;){for(var c=u.nodeValue,N=h;N>=0;N--)if(!(null!=c&&N>0&&r.isSurrogatePair(c,N-1))){if(o.setStart(u,N),!t(i(o),s))break;d=u,f=N}if(-1===N||0===u.childNodes.length)break;h=n(u=u.childNodes[N])}return o.setStart(d,f),o}var r=require(\"fbjs/lib/UnicodeUtils\"),i=require(\"./getRangeClientRects\"),a=require(\"fbjs/lib/invariant\");module.exports=o;"},"hash":"f8ba95285b20ff162dc3e4c3f53abd0a"}