{"dependencies":[{"name":"babel-runtime/helpers/extends","loc":{"line":1,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":2,"column":28}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":3,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":4,"column":22}},{"name":"react","loc":{"line":6,"column":18}},{"name":"prop-types","loc":{"line":7,"column":22}},{"name":"classnames","loc":{"line":8,"column":23}},{"name":"shallowequal","loc":{"line":9,"column":25}},{"name":"warning","loc":{"line":10,"column":20}},{"name":"./common/Track","loc":{"line":11,"column":18}},{"name":"./common/createSlider","loc":{"line":12,"column":25}},{"name":"./utils","loc":{"line":13,"column":23}}],"generated":{"js":"\"use strict\";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,\"__esModule\",{value:!0});var n=require(\"babel-runtime/helpers/extends\"),r=t(n),a=require(\"babel-runtime/helpers/classCallCheck\"),u=t(a),o=require(\"babel-runtime/helpers/possibleConstructorReturn\"),s=t(o),i=require(\"babel-runtime/helpers/inherits\"),l=t(i),p=require(\"react\"),d=t(p),h=require(\"prop-types\"),f=t(h),c=require(\"classnames\"),v=t(c),m=require(\"shallowequal\"),b=t(m),g=require(\"warning\"),y=t(g),C=require(\"./common/Track\"),V=t(C),P=require(\"./common/createSlider\"),x=t(P),O=require(\"./utils\"),q=e(O),k=function(e){function t(n){(0,u.default)(this,t);var r=(0,s.default)(this,e.call(this,n));r.onEnd=function(){r.setState({handle:null}),r.removeDocumentEvents(),r.props.onAfterChange(r.getValue())};var a=n.count,o=n.min,i=n.max,l=Array.apply(null,Array(a+1)).map(function(){return o}),p=\"defaultValue\"in n?n.defaultValue:l,d=(void 0!==n.value?n.value:p).map(function(e){return r.trimAlignValue(e)}),h=d[0]===i?0:d.length-1;return r.state={handle:null,recent:h,bounds:d},r}return(0,l.default)(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;if((\"value\"in e||\"min\"in e||\"max\"in e)&&(this.props.min!==e.min||this.props.max!==e.max||!(0,b.default)(this.props.value,e.value))){var n=this.state.bounds,r=(e.value||n).map(function(n){return t.trimAlignValue(n,e)});r.length===n.length&&r.every(function(e,t){return e===n[t]})||(this.setState({bounds:r}),n.some(function(t){return q.isValueOutOfRange(t,e)})&&this.props.onChange(r))}},t.prototype.onChange=function(e){var t=this.props;!(\"value\"in t)?this.setState(e):void 0!==e.handle&&this.setState({handle:e.handle});var n=(0,r.default)({},this.state,e).bounds;t.onChange(n)},t.prototype.onStart=function(e){var t=this.props,n=this.state,r=this.getValue();t.onBeforeChange(r);var a=this.calcValueByPos(e);this.startValue=a,this.startPosition=e;var u=this.getClosestBound(a),o=this.getBoundNeedMoving(a,u);this.setState({handle:o,recent:o});if(a!==r[o]){var s=[].concat(n.bounds);s[o]=a,this.onChange({bounds:s})}},t.prototype.onMove=function(e,t){q.pauseEvent(e);var n=this.props,r=this.state,a=this.calcValueByPos(t);if(a!==r.bounds[r.handle]){var u=[].concat(r.bounds);u[r.handle]=a;var o=r.handle;if(!1!==n.pushable){var s=r.bounds[o];this.pushSurroundingHandles(u,o,s)}else n.allowCross&&(u.sort(function(e,t){return e-t}),o=u.indexOf(a));this.onChange({handle:o,bounds:u})}},t.prototype.onKeyboard=function(){(0,y.default)(!0,\"Keyboard support is not yet supported for ranges.\")},t.prototype.getValue=function(){return this.state.bounds},t.prototype.getClosestBound=function(e){for(var t=this.state.bounds,n=0,r=1;r<t.length-1;++r)e>t[r]&&(n=r);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n},t.prototype.getBoundNeedMoving=function(e,t){var n=this.state,r=n.bounds,a=n.recent,u=t,o=r[t+1]===r[t];return o&&r[a]===r[t]&&(u=a),o&&e!==r[t+1]&&(u=e<r[t+1]?t:t+1),u},t.prototype.getLowerBound=function(){return this.state.bounds[0]},t.prototype.getUpperBound=function(){var e=this.state.bounds;return e[e.length-1]},t.prototype.getPoints=function(){var e=this.props,t=e.marks,n=e.step,a=e.min,u=e.max,o=this._getPointsCache;if(!o||o.marks!==t||o.step!==n){var s=(0,r.default)({},t);if(null!==n)for(var i=a;i<=u;i+=n)s[i]=i;var l=Object.keys(s).map(parseFloat);l.sort(function(e,t){return e-t}),this._getPointsCache={marks:t,step:n,points:l}}return this._getPointsCache.points},t.prototype.pushSurroundingHandles=function(e,t,n){var r=this.props.pushable,a=e[t],u=0;if(e[t+1]-a<r&&(u=1),a-e[t-1]<r&&(u=-1),0!==u){var o=t+u,s=u*(e[o]-a);this.pushHandle(e,o,u,r-s)||(e[t]=n)}},t.prototype.pushHandle=function(e,t,n,r){for(var a=e[t],u=e[t];n*(u-a)<r;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=a,!1;u=e[t]}return!0},t.prototype.pushHandleOnePoint=function(e,t,n){var r=this.getPoints(),a=r.indexOf(e[t])+n;if(a>=r.length||a<0)return!1;var u=t+n,o=r[a],s=this.props.pushable,i=n*(e[u]-o);return!!this.pushHandle(e,u,n,s-i)&&(e[t]=o,!0)},t.prototype.trimAlignValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,r.default)({},this.props,t),a=q.ensureValueInRange(e,n),u=this.ensureValueNotConflict(a,n);return q.ensureValuePrecision(u,n)},t.prototype.ensureValueNotConflict=function(e,t){var n=t.allowCross,r=this.state||{},a=r.handle,u=r.bounds;if(!n&&null!=a){if(a>0&&e<=u[a-1])return u[a-1];if(a<u.length-1&&e>=u[a+1])return u[a+1]}return e},t.prototype.render=function(){var e=this,t=this.state,n=t.handle,r=t.bounds,a=this.props,u=a.prefixCls,o=a.vertical,s=a.included,i=a.disabled,l=a.min,p=a.max,h=a.handle,f=a.trackStyle,c=a.handleStyle,m=r.map(function(t){return e.calcOffset(t)}),b=u+\"-handle\",g=r.map(function(t,r){var a;return h({className:(0,v.default)((a={},a[b]=!0,a[b+\"-\"+(r+1)]=!0,a)),vertical:o,offset:m[r],value:t,dragging:n===r,index:r,min:l,max:p,disabled:i,style:c[r],ref:function(t){return e.saveHandle(r,t)}})});return{tracks:r.slice(0,-1).map(function(e,t){var n,r=t+1,a=(0,v.default)((n={},n[u+\"-track\"]=!0,n[u+\"-track-\"+r]=!0,n));return d.default.createElement(V.default,{className:a,vertical:o,included:s,offset:m[r-1],length:m[r]-m[r-1],style:f[t],key:r})}),handles:g}},t}(d.default.Component);k.displayName=\"Range\",k.propTypes={defaultValue:f.default.arrayOf(f.default.number),value:f.default.arrayOf(f.default.number),count:f.default.number,pushable:f.default.oneOfType([f.default.bool,f.default.number]),allowCross:f.default.bool,disabled:f.default.bool},k.defaultProps={count:1,allowCross:!0,pushable:!1},exports.default=(0,x.default)(k);"},"hash":"d36097f8c43a4f6bffeb582081cdaec7"}