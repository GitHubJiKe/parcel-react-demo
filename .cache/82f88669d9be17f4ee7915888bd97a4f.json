{"dependencies":[{"name":"babel-runtime/helpers/extends","loc":{"line":1,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":2,"column":28}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":3,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":4,"column":22}},{"name":"react","loc":{"line":5,"column":18}},{"name":"prop-types","loc":{"line":6,"column":22}},{"name":"classnames","loc":{"line":7,"column":23}},{"name":"rc-animate","loc":{"line":8,"column":20}},{"name":"rc-util/es/Children/toArray","loc":{"line":9,"column":20}},{"name":"./Tree","loc":{"line":10,"column":29}}],"generated":{"js":"\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,\"__esModule\",{value:!0});var t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},r=require(\"babel-runtime/helpers/extends\"),o=e(r),n=require(\"babel-runtime/helpers/classCallCheck\"),a=e(n),l=require(\"babel-runtime/helpers/possibleConstructorReturn\"),i=e(l),s=require(\"babel-runtime/helpers/inherits\"),d=e(s),c=require(\"react\"),p=e(c),u=require(\"prop-types\"),f=e(u),h=require(\"classnames\"),g=e(h),b=require(\"rc-animate\"),v=e(b),m=require(\"rc-util/es/Children/toArray\"),x=e(m),y=require(\"./Tree\"),D=\"---\",C=function(e){function r(o){(0,a.default)(this,r);var n=(0,i.default)(this,e.call(this,o));return n.onCheck=function(){n.props.root.onCheck(n)},n.onMouseEnter=function(e){e.preventDefault(),n.props.root.onMouseEnter(e,n)},n.onMouseLeave=function(e){e.preventDefault(),n.props.root.onMouseLeave(e,n)},n.onContextMenu=function(e){n.props.root.onContextMenu(e,n)},n.onDragStart=function(e){e.stopPropagation(),n.setState({dragNodeHighlight:!0}),n.props.root.onDragStart(e,n);try{e.dataTransfer.setData(\"text/plain\",\"\")}catch(e){}},n.onDragEnter=function(e){e.preventDefault(),e.stopPropagation(),n.props.root.onDragEnter(e,n)},n.onDragOver=function(e){e.preventDefault(),e.stopPropagation(),n.props.root.onDragOver(e,n)},n.onDragLeave=function(e){e.stopPropagation(),n.props.root.onDragLeave(e,n)},n.onDrop=function(e){e.preventDefault(),e.stopPropagation(),n.setState({dragNodeHighlight:!1}),n.props.root.onDrop(e,n)},n.onDragEnd=function(e){e.stopPropagation(),n.setState({dragNodeHighlight:!1}),n.props.root.onDragEnd(e,n)},n.onExpand=function(){var e=n.props.root.onExpand(n);if(e&&\"object\"===(void 0===e?\"undefined\":t(e))){var r=function(e){n.setState({dataLoading:e})};r(!0),e.then(function(){r(!1)},function(){r(!1)})}},n.saveSelectHandle=function(e){n.selectHandle=e},n.state={dataLoading:!1,dragNodeHighlight:!1},n}return(0,d.default)(r,e),r.prototype.onSelect=function(){this.props.root.onSelect(this)},r.prototype.onKeyDown=function(e){e.preventDefault()},r.prototype.isSelectable=function(){var e=this.props,t=this.context;return\"selectable\"in e?e.selectable:t.rcTree.selectable},r.prototype.renderSwitcher=function(e,t){var r,o=e.prefixCls,n=(0,g.default)(o+\"-switcher\",o+\"-switcher_\"+t,(r={},r[o+\"-switcher-disabled\"]=e.disabled,r));return p.default.createElement(\"span\",{className:n,onClick:e.disabled?null:this.onExpand})},r.prototype.renderCheckbox=function(e){var t,r=e.prefixCls,o=(t={},t[r+\"-checkbox\"]=!0,t);e.checked?o[r+\"-checkbox-checked\"]=!0:e.halfChecked&&(o[r+\"-checkbox-indeterminate\"]=!0);var n=null;return\"boolean\"!=typeof e.checkable&&(n=e.checkable),e.disabled||e.disableCheckbox?(o[r+\"-checkbox-disabled\"]=!0,p.default.createElement(\"span\",{className:(0,g.default)(o)},n)):p.default.createElement(\"span\",{className:(0,g.default)(o),onClick:this.onCheck},n)},r.prototype.renderChildren=function(e){var r=this.renderFirst;this.renderFirst=1;var n=!0;!r&&e.expanded&&(n=!1);var a=null;e.children&&(a=(0,x.default)(e.children).filter(function(e){return!!e}));var l=a;if(a&&(Array.isArray(a)&&a.length&&a.every(function(e){return e.type&&e.type.isTreeNode})||a.type&&a.type.isTreeNode)){var i,s={};e.openTransitionName?s.transitionName=e.openTransitionName:\"object\"===t(e.openAnimation)&&(s.animation=(0,o.default)({},e.openAnimation),n||delete s.animation.appear);var d=(0,g.default)(e.prefixCls+\"-child-tree\",(i={},i[e.prefixCls+\"-child-tree-open\"]=e.expanded,i));l=p.default.createElement(v.default,(0,o.default)({},s,{showProp:\"data-expanded\",transitionAppear:n,component:\"\"}),e.expanded?p.default.createElement(\"ul\",{className:d,\"data-expanded\":e.expanded},p.default.Children.map(a,function(t,r){return e.root.renderTreeNode(t,r,e.pos)},e.root)):null)}return l},r.prototype.render=function(){var e,t=this,r=this.props,n=r.prefixCls,a=r.expanded?\"open\":\"close\",l=a,i=!0,s=r.title,d=this.renderChildren(r);d&&d!==r.children||(d=null,r.loadData&&!r.isLeaf||(i=!1,l=\"docu\"));var c=(e={},e[n+\"-iconEle\"]=!0,e[n+\"-icon_loading\"]=this.state.dataLoading,e[n+\"-icon__\"+l]=!0,e),u={};r.draggable&&(u.onDragEnter=this.onDragEnter,u.onDragOver=this.onDragOver,u.onDragLeave=this.onDragLeave,u.onDrop=this.onDrop,u.onDragEnd=this.onDragEnd);var f=\"\",h=\"\";r.disabled?f=n+\"-treenode-disabled\":r.dragOver?h=\"drag-over\":r.dragOverGapTop?h=\"drag-over-gap-top\":r.dragOverGapBottom&&(h=\"drag-over-gap-bottom\");var b=r.filterTreeNode(this)?\"filter-node\":\"\";return p.default.createElement(\"li\",(0,o.default)({},u,{className:(0,g.default)(r.className,f,h,b)}),i?this.renderSwitcher(r,a):p.default.createElement(\"span\",{className:n+\"-switcher \"+n+\"-switcher-noop\"}),r.checkable?this.renderCheckbox(r):null,function(){var e=r.showIcon||r.loadData&&t.state.dataLoading?p.default.createElement(\"span\",{className:(0,g.default)(c)}):null,i=p.default.createElement(\"span\",{className:n+\"-title\"},s),d=n+\"-node-content-wrapper\",u={className:d+\" \"+d+\"-\"+(l===a?l:\"normal\"),onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onContextMenu:t.onContextMenu};return r.disabled||((r.selected||t.state.dragNodeHighlight)&&(u.className+=\" \"+n+\"-node-selected\"),u.onClick=function(e){t.isSelectable()?(e.preventDefault(),t.onSelect()):r.checkable&&!r.disableCheckbox&&(e.preventDefault(),t.onCheck())},r.draggable&&(u.className+=\" draggable\",u.draggable=!0,u[\"aria-grabbed\"]=!0,u.onDragStart=t.onDragStart)),p.default.createElement(\"span\",(0,o.default)({ref:t.saveSelectHandle,title:\"string\"==typeof s?s:\"\"},u),e,i)}(),d)},r}(p.default.Component);C.propTypes={prefixCls:f.default.string,disabled:f.default.bool,disableCheckbox:f.default.bool,expanded:f.default.bool,isLeaf:f.default.bool,root:f.default.object,onSelect:f.default.func},C.contextTypes=y.contextTypes,C.defaultProps={title:D},C.isTreeNode=1,exports.default=C;"},"hash":"bfc91cd7877945cc2e674af9a863ab7d"}