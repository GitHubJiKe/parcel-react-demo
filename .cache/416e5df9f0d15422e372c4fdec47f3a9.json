{"dependencies":[{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":1,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":2,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":3,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":4,"column":22}},{"name":"react","loc":{"line":5,"column":33}},{"name":"prop-types","loc":{"line":6,"column":22}},{"name":"rc-trigger","loc":{"line":7,"column":20}},{"name":"./Panel","loc":{"line":8,"column":18}},{"name":"./placements","loc":{"line":9,"column":23}},{"name":"moment","loc":{"line":10,"column":19}}],"generated":{"js":"\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}function t(){}function n(e,t){this[e]=t}Object.defineProperty(exports,\"__esModule\",{value:!0});var o=require(\"babel-runtime/helpers/classCallCheck\"),a=e(o),l=require(\"babel-runtime/helpers/createClass\"),u=e(l),s=require(\"babel-runtime/helpers/possibleConstructorReturn\"),i=e(s),r=require(\"babel-runtime/helpers/inherits\"),p=e(r),d=require(\"react\"),f=e(d),c=require(\"prop-types\"),h=e(c),m=require(\"rc-trigger\"),b=e(m),v=require(\"./Panel\"),C=e(v),g=require(\"./placements\"),y=e(g),O=require(\"moment\"),w=e(O),S=function(e){function o(e){(0,a.default)(this,o);var t=(0,i.default)(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));P.call(t),t.saveInputRef=n.bind(t,\"picker\"),t.savePanelRef=n.bind(t,\"panelInstance\");var l=e.defaultOpen,u=e.defaultValue,s=e.open,r=void 0===s?l:s,p=e.value,d=void 0===p?u:p;return t.state={open:r,value:d},t}return(0,p.default)(o,e),(0,u.default)(o,[{key:\"componentWillReceiveProps\",value:function(e){var t=e.value,n=e.open;\"value\"in e&&this.setState({value:t}),void 0!==n&&this.setState({open:n})}},{key:\"setValue\",value:function(e){\"value\"in this.props||this.setState({value:e}),this.props.onChange(e)}},{key:\"getFormat\",value:function(){var e=this.props,t=e.format,n=e.showHour,o=e.showMinute,a=e.showSecond,l=e.use12Hours;if(t)return t;if(l){return[n?\"h\":\"\",o?\"mm\":\"\",a?\"ss\":\"\"].filter(function(e){return!!e}).join(\":\").concat(\" a\")}return[n?\"HH\":\"\",o?\"mm\":\"\",a?\"ss\":\"\"].filter(function(e){return!!e}).join(\":\")}},{key:\"getPanelElement\",value:function(){var e=this.props,t=e.prefixCls,n=e.placeholder,o=e.disabledHours,a=e.disabledMinutes,l=e.disabledSeconds,u=e.hideDisabledOptions,s=e.allowEmpty,i=e.showHour,r=e.showMinute,p=e.showSecond,d=e.defaultOpenValue,c=e.clearText,h=e.addon,m=e.use12Hours,b=e.focusOnOpen,v=e.onKeyDown,g=e.hourStep,y=e.minuteStep,O=e.secondStep;return f.default.createElement(C.default,{clearText:c,prefixCls:t+\"-panel\",ref:this.savePanelRef,value:this.state.value,onChange:this.onPanelChange,onClear:this.onPanelClear,defaultOpenValue:d,showHour:i,showMinute:r,showSecond:p,onEsc:this.onEsc,allowEmpty:s,format:this.getFormat(),placeholder:n,disabledHours:o,disabledMinutes:a,disabledSeconds:l,hideDisabledOptions:u,use12Hours:m,hourStep:g,minuteStep:y,secondStep:O,addon:h,focusOnOpen:b,onKeyDown:v})}},{key:\"getPopupClassName\",value:function(){var e=this.props,t=e.showHour,n=e.showMinute,o=e.showSecond,a=e.use12Hours,l=e.prefixCls,u=this.props.popupClassName;t&&n&&o||a||(u+=\" \"+l+\"-panel-narrow\");var s=0;return t&&(s+=1),n&&(s+=1),o&&(s+=1),a&&(s+=1),u+=\" \"+l+\"-panel-column-\"+s}},{key:\"setOpen\",value:function(e){var t=this.props,n=t.onOpen,o=t.onClose;this.state.open!==e&&(\"open\"in this.props||this.setState({open:e}),e?n({open:e}):o({open:e}))}},{key:\"focus\",value:function(){this.picker.focus()}},{key:\"blur\",value:function(){this.picker.blur()}},{key:\"render\",value:function(){var e=this.props,n=e.prefixCls,o=e.placeholder,a=e.placement,l=e.align,u=e.disabled,s=e.transitionName,i=e.style,r=e.className,p=e.getPopupContainer,d=e.name,c=e.autoComplete,h=e.onFocus,m=e.onBlur,v=e.autoFocus,C=this.state,g=C.open,O=C.value,w=this.getPopupClassName();return f.default.createElement(b.default,{prefixCls:n+\"-panel\",popupClassName:w,popup:this.getPanelElement(),popupAlign:l,builtinPlacements:y.default,popupPlacement:a,action:u?[]:[\"click\"],destroyPopupOnHide:!0,getPopupContainer:p,popupTransitionName:s,popupVisible:g,onPopupVisibleChange:this.onVisibleChange},f.default.createElement(\"span\",{className:n+\" \"+r,style:i},f.default.createElement(\"input\",{className:n+\"-input\",ref:this.saveInputRef,type:\"text\",placeholder:o,name:d,onKeyDown:this.onKeyDown,disabled:u,value:O&&O.format(this.getFormat())||\"\",autoComplete:c,onFocus:h,onBlur:m,autoFocus:v,onChange:t}),f.default.createElement(\"span\",{className:n+\"-icon\"})))}}]),o}(d.Component);S.propTypes={prefixCls:h.default.string,clearText:h.default.string,value:h.default.object,defaultOpenValue:h.default.object,disabled:h.default.bool,allowEmpty:h.default.bool,defaultValue:h.default.object,open:h.default.bool,defaultOpen:h.default.bool,align:h.default.object,placement:h.default.any,transitionName:h.default.string,getPopupContainer:h.default.func,placeholder:h.default.string,format:h.default.string,showHour:h.default.bool,showMinute:h.default.bool,showSecond:h.default.bool,style:h.default.object,className:h.default.string,popupClassName:h.default.string,disabledHours:h.default.func,disabledMinutes:h.default.func,disabledSeconds:h.default.func,hideDisabledOptions:h.default.bool,onChange:h.default.func,onOpen:h.default.func,onClose:h.default.func,onFocus:h.default.func,onBlur:h.default.func,addon:h.default.func,name:h.default.string,autoComplete:h.default.string,use12Hours:h.default.bool,hourStep:h.default.number,minuteStep:h.default.number,secondStep:h.default.number,focusOnOpen:h.default.bool,onKeyDown:h.default.func,autoFocus:h.default.bool},S.defaultProps={clearText:\"clear\",prefixCls:\"rc-time-picker\",defaultOpen:!1,style:{},className:\"\",popupClassName:\"\",align:{},defaultOpenValue:(0,w.default)(),allowEmpty:!0,showHour:!0,showMinute:!0,showSecond:!0,disabledHours:t,disabledMinutes:t,disabledSeconds:t,hideDisabledOptions:!1,placement:\"bottomLeft\",onChange:t,onOpen:t,onClose:t,onFocus:t,onBlur:t,addon:t,use12Hours:!1,focusOnOpen:!1,onKeyDown:t};var P=function(){var e=this;this.onPanelChange=function(t){e.setValue(t)},this.onPanelClear=function(){e.setValue(null),e.setOpen(!1)},this.onVisibleChange=function(t){e.setOpen(t)},this.onEsc=function(){e.setOpen(!1),e.focus()},this.onKeyDown=function(t){40===t.keyCode&&e.setOpen(!0)}};exports.default=S;"},"hash":"074909081febeeaeeeae078478789f79"}