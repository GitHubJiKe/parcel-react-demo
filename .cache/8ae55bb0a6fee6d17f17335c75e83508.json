{"dependencies":[{"name":"babel-runtime/helpers/defineProperty","loc":{"line":1,"column":28}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":2,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":3,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":4,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":5,"column":22}},{"name":"react","loc":{"line":6,"column":23}},{"name":"../checkbox","loc":{"line":7,"column":21}},{"name":"../dropdown","loc":{"line":8,"column":21}},{"name":"../menu","loc":{"line":9,"column":17}},{"name":"../icon","loc":{"line":10,"column":17}},{"name":"classnames","loc":{"line":11,"column":23}}],"generated":{"js":"\"use strict\";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,\"__esModule\",{value:!0});var n=require(\"babel-runtime/helpers/defineProperty\"),r=t(n),i=require(\"babel-runtime/helpers/classCallCheck\"),c=t(i),l=require(\"babel-runtime/helpers/createClass\"),s=t(l),a=require(\"babel-runtime/helpers/possibleConstructorReturn\"),o=t(a),u=require(\"babel-runtime/helpers/inherits\"),h=t(u),d=require(\"react\"),f=e(d),k=require(\"../checkbox\"),m=t(k),p=require(\"../dropdown\"),v=t(p),y=require(\"../menu\"),S=t(y),b=require(\"../icon\"),g=t(b),C=require(\"classnames\"),q=t(C),_=function(e){function t(e){(0,c.default)(this,t);var n=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectAllChagne=function(e){var t=e.target.checked;n.props.onSelect(t?\"all\":\"removeAll\",0,null)},n.defaultSelections=e.hideDefaultSelections?[]:[{key:\"all\",text:e.locale.selectAll,onSelect:function(){}},{key:\"invert\",text:e.locale.selectInvert,onSelect:function(){}}],n.state={checked:n.getCheckState(e),indeterminate:n.getIndeterminateState(e)},n}return(0,h.default)(t,e),(0,s.default)(t,[{key:\"componentDidMount\",value:function(){this.subscribe()}},{key:\"componentWillReceiveProps\",value:function(e){this.setCheckState(e)}},{key:\"componentWillUnmount\",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:\"subscribe\",value:function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){e.setCheckState(e.props)})}},{key:\"checkSelection\",value:function(e,t,n){var r=this.props,i=r.store,c=r.getCheckboxPropsByItem,l=r.getRecordKey;return(\"every\"===t||\"some\"===t)&&(n?e[t](function(e,t){return c(e,t).defaultChecked}):e[t](function(e,t){return i.getState().selectedRowKeys.indexOf(l(e,t))>=0}))}},{key:\"setCheckState\",value:function(e){var t=this.getCheckState(e),n=this.getIndeterminateState(e);t!==this.state.checked&&this.setState({checked:t}),n!==this.state.indeterminate&&this.setState({indeterminate:n})}},{key:\"getCheckState\",value:function(e){var t=e.store,n=e.data;return!!n.length&&(t.getState().selectionDirty?this.checkSelection(n,\"every\",!1):this.checkSelection(n,\"every\",!1)||this.checkSelection(n,\"every\",!0))}},{key:\"getIndeterminateState\",value:function(e){var t=e.store,n=e.data;return!!n.length&&(t.getState().selectionDirty?this.checkSelection(n,\"some\",!1)&&!this.checkSelection(n,\"every\",!1):this.checkSelection(n,\"some\",!1)&&!this.checkSelection(n,\"every\",!1)||this.checkSelection(n,\"some\",!0)&&!this.checkSelection(n,\"every\",!0))}},{key:\"renderMenus\",value:function(e){var t=this;return e.map(function(e,n){return f.createElement(S.default.Item,{key:e.key||n},f.createElement(\"div\",{onClick:function(){t.props.onSelect(e.key,n,e.onSelect)}},e.text))})}},{key:\"render\",value:function(){var e=this.props,t=e.disabled,n=e.prefixCls,i=e.selections,c=e.getPopupContainer,l=this.state,s=l.checked,a=l.indeterminate,o=n+\"-selection\",u=null;if(i){var h=Array.isArray(i)?this.defaultSelections.concat(i):this.defaultSelections,d=f.createElement(S.default,{className:o+\"-menu\",selectedKeys:[]},this.renderMenus(h));u=h.length>0?f.createElement(v.default,{overlay:d,getPopupContainer:c},f.createElement(\"div\",{className:o+\"-down\"},f.createElement(g.default,{type:\"down\"}))):null}return f.createElement(\"div\",{className:o},f.createElement(m.default,{className:(0,q.default)((0,r.default)({},o+\"-select-all-custom\",u)),checked:s,indeterminate:a,disabled:t,onChange:this.handleSelectAllChagne}),u)}}]),t}(f.Component);exports.default=_;"},"hash":"e1202f090621e728b1f13c97e4c3af41"}