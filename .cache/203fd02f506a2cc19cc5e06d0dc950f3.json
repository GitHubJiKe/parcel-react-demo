{"dependencies":[{"name":"object-assign","loc":{"line":16,"column":22}},{"name":"./DraftEditorLeaf.react","loc":{"line":26,"column":30}},{"name":"./DraftOffsetKey","loc":{"line":27,"column":29}},{"name":"react","loc":{"line":28,"column":20}},{"name":"react-dom","loc":{"line":29,"column":23}},{"name":"fbjs/lib/Scroll","loc":{"line":30,"column":21}},{"name":"fbjs/lib/Style","loc":{"line":31,"column":20}},{"name":"fbjs/lib/UnicodeBidi","loc":{"line":32,"column":26}},{"name":"fbjs/lib/UnicodeBidiDirection","loc":{"line":33,"column":35}},{"name":"fbjs/lib/cx","loc":{"line":35,"column":17}},{"name":"fbjs/lib/getElementPosition","loc":{"line":36,"column":33}},{"name":"fbjs/lib/getScrollPosition","loc":{"line":37,"column":32}},{"name":"fbjs/lib/getViewportDimensions","loc":{"line":38,"column":36}},{"name":"fbjs/lib/invariant","loc":{"line":39,"column":24}},{"name":"fbjs/lib/nullthrows","loc":{"line":40,"column":25}}],"generated":{"js":"\"use strict\";function e(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function t(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}var i=require(\"object-assign\"),n=i||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s=require(\"./DraftEditorLeaf.react\"),c=require(\"./DraftOffsetKey\"),l=require(\"react\"),p=require(\"react-dom\"),f=require(\"fbjs/lib/Scroll\"),a=require(\"fbjs/lib/Style\"),u=require(\"fbjs/lib/UnicodeBidi\"),y=require(\"fbjs/lib/UnicodeBidiDirection\"),b=require(\"fbjs/lib/cx\"),d=require(\"fbjs/lib/getElementPosition\"),h=require(\"fbjs/lib/getScrollPosition\"),g=require(\"fbjs/lib/getViewportDimensions\"),m=require(\"fbjs/lib/invariant\"),S=require(\"fbjs/lib/nullthrows\"),v=10,j=function(i){function j(){return e(this,j),t(this,i.apply(this,arguments))}return r(j,i),j.prototype.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||o(e.selection,e.block.getKey())&&e.forceSelection},j.prototype.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var r,o=p.findDOMNode(this),i=a.getScrollParent(o),n=h(i);if(i===window){var s=d(o);(r=s.y+s.height-g().height)>0&&window.scrollTo(n.x,n.y+r+v)}else{o instanceof HTMLElement||m(!1);(r=o.offsetHeight+o.offsetTop-(i.offsetHeight+n.y))>0&&f.setTop(i,f.getTop(i)+r+v)}}},j.prototype._renderChildren=function(){var e=this,t=this.props.block,r=t.getKey(),i=t.getText(),p=this.props.tree.size-1,f=o(this.props.selection,r);return this.props.tree.map(function(o,a){var b=o.get(\"leaves\"),d=b.size-1,h=b.map(function(o,n){var u=c.encode(r,a,n),y=o.get(\"start\"),b=o.get(\"end\");return l.createElement(s,{key:u,offsetKey:u,block:t,start:y,selection:f?e.props.selection:void 0,forceSelection:e.props.forceSelection,text:i.slice(y,b),styleSet:t.getInlineStyleAt(y),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:a===p&&n===d})}).toArray(),g=o.get(\"decoratorKey\");if(null==g)return h;if(!e.props.decorator)return h;var m=S(e.props.decorator),v=m.getComponentForKey(g);if(!v)return h;var j=m.getPropsForKey(g),q=c.encode(r,a,0),D=i.slice(b.first().get(\"start\"),b.last().get(\"end\")),w=y.getHTMLDirIfDifferent(u.getDirection(D),e.props.direction);return l.createElement(v,n({},j,{contentState:e.props.contentState,decoratedText:D,dir:w,key:q,entityKey:t.getEntityAt(o.get(\"start\")),offsetKey:q}),h)}).toArray()},j.prototype.render=function(){var e=this.props,t=e.direction,r=e.offsetKey,o=b({\"public/DraftStyleDefault/block\":!0,\"public/DraftStyleDefault/ltr\":\"LTR\"===t,\"public/DraftStyleDefault/rtl\":\"RTL\"===t});return l.createElement(\"div\",{\"data-offset-key\":r,className:o},this._renderChildren())},j}(l.Component);module.exports=j;"},"hash":"f2b612e091f8509a589218fb82d2beba"}