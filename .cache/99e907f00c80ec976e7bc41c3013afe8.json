{"dependencies":[{"name":"react","loc":{"line":7,"column":21}},{"name":"react-dom","loc":{"line":11,"column":24}},{"name":"./trackHelper","loc":{"line":15,"column":27}},{"name":"object-assign","loc":{"line":17,"column":28}}],"generated":{"js":"\"use strict\";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},i=require(\"react\"),s=t(i),a=require(\"react-dom\"),r=t(a),n=require(\"./trackHelper\"),h=require(\"object-assign\"),o=t(h),l={initialize:function(t){var e,i=r.default.findDOMNode(this.list),a=s.default.Children.count(t.children),h=this.getWidth(i),l=this.getWidth(r.default.findDOMNode(this.track));if(t.vertical)e=this.getWidth(r.default.findDOMNode(this));else{var d=t.centerMode&&2*parseInt(t.centerPadding);e=(this.getWidth(r.default.findDOMNode(this))-d)/t.slidesToShow}var u=this.getHeight(i.querySelector('[data-index=\"0\"]')),p=u*t.slidesToShow,c=t.rtl?a-1-t.initialSlide:t.initialSlide;this.setState({slideCount:a,slideWidth:e,listWidth:h,trackWidth:l,currentSlide:c,slideHeight:u,listHeight:p},function(){var e=(0,n.getTrackLeft)((0,o.default)({slideIndex:this.state.currentSlide,trackRef:this.track},t,this.state)),i=(0,n.getTrackCSS)((0,o.default)({left:e},t,this.state));this.setState({trackStyle:i}),this.autoPlay()})},update:function(t){var e,i=r.default.findDOMNode(this.list),a=s.default.Children.count(t.children),h=this.getWidth(i),l=this.getWidth(r.default.findDOMNode(this.track));if(t.vertical)e=this.getWidth(r.default.findDOMNode(this));else{var d=t.centerMode&&2*parseInt(t.centerPadding);e=(this.getWidth(r.default.findDOMNode(this))-d)/t.slidesToShow}var u=this.getHeight(i.querySelector('[data-index=\"0\"]')),p=u*t.slidesToShow;t.autoplay?this.autoPlay():this.pause(),this.setState({slideCount:a,slideWidth:e,listWidth:h,trackWidth:l,slideHeight:u,listHeight:p},function(){var e=(0,n.getTrackLeft)((0,o.default)({slideIndex:this.state.currentSlide,trackRef:this.track},t,this.state)),i=(0,n.getTrackCSS)((0,o.default)({left:e},t,this.state));this.setState({trackStyle:i})})},getWidth:function(t){return t&&(t.getBoundingClientRect().width||t.offsetWidth)||0},getHeight:function(t){return t&&(t.getBoundingClientRect().height||t.offsetHeight)||0},adaptHeight:function(){if(this.props.adaptiveHeight){var t='[data-index=\"'+this.state.currentSlide+'\"]';if(this.list){var e=r.default.findDOMNode(this.list);e.style.height=e.querySelector(t).offsetHeight+\"px\"}}},canGoNext:function(t){var e=!0;return t.infinite||(t.centerMode?t.currentSlide>=t.slideCount-1&&(e=!1):(t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(e=!1)),e},slideHandler:function(t){var e,i,s,a,r,h=this;if(!this.props.waitForAnimate||!this.state.animating){if(this.props.fade){if(i=this.state.currentSlide,!1===this.props.infinite&&(t<0||t>=this.state.slideCount))return;return e=t<0?t+this.state.slideCount:t>=this.state.slideCount?t-this.state.slideCount:t,this.props.lazyLoad&&this.state.lazyLoadedList.indexOf(e)<0&&this.setState({lazyLoadedList:this.state.lazyLoadedList.concat(e)}),r=function(){h.setState({animating:!1}),h.props.afterChange&&h.props.afterChange(e),delete h.animationEndCallback},this.setState({animating:!0,currentSlide:e},function(){this.animationEndCallback=setTimeout(r,this.props.speed)}),this.props.beforeChange&&this.props.beforeChange(this.state.currentSlide,e),void this.autoPlay()}if(e=t,i=e<0?!1===this.props.infinite?0:this.state.slideCount%this.props.slidesToScroll!=0?this.state.slideCount-this.state.slideCount%this.props.slidesToScroll:this.state.slideCount+e:e>=this.state.slideCount?!1===this.props.infinite?this.state.slideCount-this.props.slidesToShow:this.state.slideCount%this.props.slidesToScroll!=0?0:e-this.state.slideCount:e,s=(0,n.getTrackLeft)((0,o.default)({slideIndex:e,trackRef:this.track},this.props,this.state)),a=(0,n.getTrackLeft)((0,o.default)({slideIndex:i,trackRef:this.track},this.props,this.state)),!1===this.props.infinite&&(s=a),this.props.beforeChange&&this.props.beforeChange(this.state.currentSlide,i),this.props.lazyLoad){for(var l=!0,d=[],u=e;u<e+this.props.slidesToShow;u++)(l=l&&this.state.lazyLoadedList.indexOf(u)>=0)||d.push(u);l||this.setState({lazyLoadedList:this.state.lazyLoadedList.concat(d)})}if(!1===this.props.useCSS)this.setState({currentSlide:i,trackStyle:(0,n.getTrackCSS)((0,o.default)({left:a},this.props,this.state))},function(){this.props.afterChange&&this.props.afterChange(i)});else{var p={animating:!1,currentSlide:i,trackStyle:(0,n.getTrackCSS)((0,o.default)({left:a},this.props,this.state)),swipeLeft:null};r=function(){h.setState(p),h.props.afterChange&&h.props.afterChange(i),delete h.animationEndCallback},this.setState({animating:!0,currentSlide:i,trackStyle:(0,n.getTrackAnimateCSS)((0,o.default)({left:s},this.props,this.state))},function(){this.animationEndCallback=setTimeout(r,this.props.speed)})}this.autoPlay()}},swipeDirection:function(t){var e,i,s,a;return e=t.startX-t.curX,i=t.startY-t.curY,s=Math.atan2(i,e),(a=Math.round(180*s/Math.PI))<0&&(a=360-Math.abs(a)),a<=45&&a>=0||a<=360&&a>=315?!1===this.props.rtl?\"left\":\"right\":a>=135&&a<=225?!1===this.props.rtl?\"right\":\"left\":!0===this.props.verticalSwiping?a>=35&&a<=135?\"down\":\"up\":\"vertical\"},play:function(){var t;if(!this.state.mounted)return!1;if(this.props.rtl)t=this.state.currentSlide-this.props.slidesToScroll;else{if(!this.canGoNext(e({},this.props,this.state)))return!1;t=this.state.currentSlide+this.props.slidesToScroll}this.slideHandler(t)},autoPlay:function(){this.state.autoPlayTimer&&clearTimeout(this.state.autoPlayTimer),this.props.autoplay&&this.setState({autoPlayTimer:setTimeout(this.play,this.props.autoplaySpeed)})},pause:function(){this.state.autoPlayTimer&&(clearTimeout(this.state.autoPlayTimer),this.setState({autoPlayTimer:null}))}};exports.default=l;"},"hash":"402fb6f0e7557c11ef1782f99f282815"}