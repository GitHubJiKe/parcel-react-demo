{"dependencies":[{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":1,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":2,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":3,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":4,"column":22}},{"name":"react","loc":{"line":5,"column":33}},{"name":"prop-types","loc":{"line":6,"column":22}},{"name":"moment","loc":{"line":7,"column":19}}],"generated":{"js":"\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,\"__esModule\",{value:!0});var t=require(\"babel-runtime/helpers/classCallCheck\"),n=e(t),r=require(\"babel-runtime/helpers/createClass\"),a=e(r),u=require(\"babel-runtime/helpers/possibleConstructorReturn\"),o=e(u),i=require(\"babel-runtime/helpers/inherits\"),l=e(i),s=require(\"react\"),d=e(s),f=require(\"prop-types\"),p=e(f),c=require(\"moment\"),h=e(c),v=function(e){function t(e){(0,n.default)(this,t);var r=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));m.call(r);var a=e.value,u=e.format;return r.state={str:a&&a.format(u)||\"\",invalid:!1},r}return(0,l.default)(t,e),(0,a.default)(t,[{key:\"componentDidMount\",value:function(){var e=this;if(this.props.focusOnOpen){(window.requestAnimationFrame||window.setTimeout)(function(){e.refs.input.focus(),e.refs.input.select()})}}},{key:\"componentWillReceiveProps\",value:function(e){var t=e.value,n=e.format;this.setState({str:t&&t.format(n)||\"\",invalid:!1})}},{key:\"getClearButton\",value:function(){var e=this.props,t=e.prefixCls;return e.allowEmpty?d.default.createElement(\"a\",{className:t+\"-clear-btn\",role:\"button\",title:this.props.clearText,onMouseDown:this.onClear}):null}},{key:\"getProtoValue\",value:function(){return this.props.value||this.props.defaultOpenValue}},{key:\"getInput\",value:function(){var e=this.props,t=e.prefixCls,n=e.placeholder,r=this.state,a=r.invalid,u=r.str,o=a?t+\"-input-invalid\":\"\";return d.default.createElement(\"input\",{className:t+\"-input  \"+o,ref:\"input\",onKeyDown:this.onKeyDown,value:u,placeholder:n,onChange:this.onInputChange})}},{key:\"render\",value:function(){var e=this.props.prefixCls;return d.default.createElement(\"div\",{className:e+\"-input-wrap\"},this.getInput(),this.getClearButton())}}]),t}(s.Component);v.propTypes={format:p.default.string,prefixCls:p.default.string,disabledDate:p.default.func,placeholder:p.default.string,clearText:p.default.string,value:p.default.object,hourOptions:p.default.array,minuteOptions:p.default.array,secondOptions:p.default.array,disabledHours:p.default.func,disabledMinutes:p.default.func,disabledSeconds:p.default.func,onChange:p.default.func,onClear:p.default.func,onEsc:p.default.func,allowEmpty:p.default.bool,defaultOpenValue:p.default.object,currentSelectPanel:p.default.string,focusOnOpen:p.default.bool,onKeyDown:p.default.func};var m=function(){var e=this;this.onInputChange=function(t){var n=t.target.value;e.setState({str:n});var r=e.props,a=r.format,u=r.hourOptions,o=r.minuteOptions,i=r.secondOptions,l=r.disabledHours,s=r.disabledMinutes,d=r.disabledSeconds,f=r.onChange,p=r.allowEmpty;if(n){var c=e.props.value,v=e.getProtoValue().clone(),m=(0,h.default)(n,a,!0);if(!m.isValid())return void e.setState({invalid:!0});if(v.hour(m.hour()).minute(m.minute()).second(m.second()),u.indexOf(v.hour())<0||o.indexOf(v.minute())<0||i.indexOf(v.second())<0)return void e.setState({invalid:!0});var b=l(),y=s(v.hour()),C=d(v.hour(),v.minute());if(b&&b.indexOf(v.hour())>=0||y&&y.indexOf(v.minute())>=0||C&&C.indexOf(v.second())>=0)return void e.setState({invalid:!0});if(c){if(c.hour()!==v.hour()||c.minute()!==v.minute()||c.second()!==v.second()){var O=c.clone();O.hour(v.hour()),O.minute(v.minute()),O.second(v.second()),f(O)}}else c!==v&&f(v)}else{if(!p)return void e.setState({invalid:!0});f(null)}e.setState({invalid:!1})},this.onKeyDown=function(t){var n=e.props,r=n.onEsc,a=n.onKeyDown;27===t.keyCode&&r(),a(t)},this.onClear=function(){e.setState({str:\"\"}),e.props.onClear()}};exports.default=v;"},"hash":"122b9a4188dd6b6a78ae6b477f3c4dc1"}