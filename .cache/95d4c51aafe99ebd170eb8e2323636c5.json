{"dependencies":[{"name":"babel-runtime/helpers/extends","loc":{"line":1,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":2,"column":28}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":3,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":4,"column":22}},{"name":"react","loc":{"line":5,"column":18}},{"name":"react-dom","loc":{"line":6,"column":21}},{"name":"prop-types","loc":{"line":7,"column":22}},{"name":"mini-store","loc":{"line":8,"column":24}},{"name":"./TableCell","loc":{"line":9,"column":22}},{"name":"./utils","loc":{"line":10,"column":28}}],"generated":{"js":"\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}function n(e,n){var o=e.expandedRowsHeight,t=e.fixedColumnsBodyRowsHeight,r=n.fixed,i=n.index,u=n.rowKey;return r?o[u]?o[u]:t[i]?t[i]:null:null}Object.defineProperty(exports,\"__esModule\",{value:!0});var o=require(\"babel-runtime/helpers/extends\"),t=e(o),r=require(\"babel-runtime/helpers/classCallCheck\"),i=e(r),u=require(\"babel-runtime/helpers/possibleConstructorReturn\"),l=e(u),s=require(\"babel-runtime/helpers/inherits\"),d=e(s),a=require(\"react\"),c=e(a),f=require(\"react-dom\"),p=e(f),h=require(\"prop-types\"),v=e(h),y=require(\"mini-store\"),R=require(\"./TableCell\"),x=e(R),b=require(\"./utils\"),w=function(e){function n(o){(0,i.default)(this,n);var t=(0,l.default)(this,e.call(this,o));return t.onRowClick=function(e){var n=t.props,o=n.record,r=n.index,i=n.onRowClick;i&&i(o,r,e)},t.onRowDoubleClick=function(e){var n=t.props,o=n.record,r=n.index,i=n.onRowDoubleClick;i&&i(o,r,e)},t.onContextMenu=function(e){var n=t.props,o=n.record,r=n.index,i=n.onRowContextMenu;i&&i(o,r,e)},t.onMouseEnter=function(e){var n=t.props,o=n.record,r=n.index,i=n.onRowMouseEnter;(0,n.onHover)(!0,n.rowKey),i&&i(o,r,e)},t.onMouseLeave=function(e){var n=t.props,o=n.record,r=n.index,i=n.onRowMouseLeave;(0,n.onHover)(!1,n.rowKey),i&&i(o,r,e)},t.shouldRender=o.visible,t}return(0,d.default)(n,e),n.prototype.componentDidMount=function(){this.shouldRender&&this.saveRowRef()},n.prototype.componentWillReceiveProps=function(e){(this.props.visible||!this.props.visible&&e.visible)&&(this.shouldRender=!0)},n.prototype.shouldComponentUpdate=function(e){return!(!this.props.visible&&!e.visible)},n.prototype.componentDidUpdate=function(){this.shouldRender&&!this.rowRef&&this.saveRowRef()},n.prototype.setHeight=function(){var e=this.props,n=e.store,o=e.rowKey,t=n.getState().expandedRowsHeight,r=this.rowRef.getBoundingClientRect().height;t[o]=r,n.setState({expandedRowsHeight:t})},n.prototype.getStyle=function(){var e=this.props,n=e.height,o=e.visible;return n&&n!==this.style.height&&(this.style=(0,t.default)({},this.style,{height:n})),o||this.style.display||(this.style=(0,t.default)({},this.style,{display:\"none\"})),this.style},n.prototype.saveRowRef=function(){this.rowRef=p.default.findDOMNode(this),this.props.fixed||this.setHeight()},n.prototype.render=function(){if(!this.shouldRender)return null;var e=this.props,n=e.prefixCls,o=e.columns,r=e.record,i=e.index,u=e.onRow,l=e.indent,s=e.indentSize,d=e.hovered,a=e.height,f=e.visible,p=e.components,h=e.hasExpandIcon,v=e.renderExpandIcon,y=e.renderExpandIconCell,R=p.body.row,w=p.body.cell,C=this.props.className;d&&(C+=\" \"+n+\"-hover\");var m=[];y(m);for(var g=0;g<o.length;g++){var M=o[g];(0,b.warningOnce)(void 0===M.onCellClick,\"column[onCellClick] is deprecated, please use column[onCell] instead.\"),m.push(c.default.createElement(x.default,{prefixCls:n,record:r,indentSize:s,indent:l,index:i,column:M,key:M.key||M.dataIndex,expandIcon:h(g)&&v(),component:w}))}var k=(n+\" \"+C+\" \"+n+\"-level-\"+l).trim(),E=u(r,i),q=E?E.style:{},I={height:a};return f||(I.display=\"none\"),I=(0,t.default)({},I,q),c.default.createElement(R,(0,t.default)({onClick:this.onRowClick,onDoubleClick:this.onRowDoubleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onContextMenu:this.onContextMenu,className:k},E,{style:I}),m)},n}(c.default.Component);w.propTypes={onRow:v.default.func,onRowClick:v.default.func,onRowDoubleClick:v.default.func,onRowContextMenu:v.default.func,onRowMouseEnter:v.default.func,onRowMouseLeave:v.default.func,record:v.default.object,prefixCls:v.default.string,onHover:v.default.func,columns:v.default.array,height:v.default.oneOfType([v.default.string,v.default.number]),index:v.default.number,rowKey:v.default.oneOfType([v.default.string,v.default.number]).isRequired,className:v.default.string,indent:v.default.number,indentSize:v.default.number,hasExpandIcon:v.default.func.isRequired,hovered:v.default.bool.isRequired,visible:v.default.bool.isRequired,store:v.default.object.isRequired,fixed:v.default.oneOfType([v.default.string,v.default.bool]),renderExpandIcon:v.default.func,renderExpandIconCell:v.default.func,components:v.default.any},w.defaultProps={onRow:function(){},expandIconColumnIndex:0,expandRowByClick:!1,onHover:function(){},hasExpandIcon:function(){},renderExpandIcon:function(){},renderExpandIconCell:function(){}},exports.default=(0,y.connect)(function(e,o){var t=e.currentHoverKey,r=e.expandedRowKeys,i=o.rowKey,u=o.ancestorKeys;return{visible:0===u.length||u.every(function(e){return~r.indexOf(e)}),hovered:t===i,height:n(e,o)}})(w);"},"hash":"6f49fbfd83362cc260dc89efbb46b956"}